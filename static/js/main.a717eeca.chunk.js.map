{"version":3,"sources":["components/home/Header.tsx","core/link.tsx","components/home/Add_Doc.tsx","redux/homeReducer/homeAction.ts","redux/homeReducer/homeConstants.ts","redux/documentRecuder/docConstants.ts","components/home/Panel_Sort.tsx","core/different.ts","components/home/CreateListDoc.tsx","components/home/All_Doc_List.tsx","components/home/auth.ts","components/home/Preloader.tsx","Pages/Home.tsx","redux/documentRecuder/docAction.ts","components/document/Header.tsx","redux/documentRecuder/docReducer.ts","core/emitter.tsx","components/document/mainBlock.components/page/Page.tsx","components/document/mainBlock.components/page/page.functions.tsx","components/document/toolbar.components/Titles.tsx","components/document/toolbar.components/Fonts.tsx","components/document/toolbar.components/TextAlignment.tsx","components/document/toolbar.components/LoadImage.tsx","components/document/toolbar.components/LineHeight.tsx","components/document/toolbar.components/FontWeight.tsx","components/document/toolbar.components/FontStyle.tsx","components/document/toolbar.components/Underline.tsx","components/document/toolbar.components/Color.tsx","components/document/toolbar.components/BackgroundColor.tsx","components/document/toolbar.components/Print.tsx","components/document/toolbar.components/FontSize.tsx","components/document/toolbar.components/ImageAlign.tsx","components/document/toolbar.components/Float.tsx","components/document/toolbar.components/Strikethrough.tsx","components/document/toolbar.components/List.tsx","components/document/toolbar.components/Indents.tsx","components/document/Toolbar.tsx","components/document/mainBlock.components/header/Header.tsx","components/document/mainBlock.components/header/header.funtion.ts","components/document/mainBlock.components/LeftSlider/LeftSlider.tsx","components/document/mainBlock.components/LeftSlider/leftSlider.fuction.tsx","components/document/MainBlock.tsx","Pages/Document.tsx","core/postDataServer.ts","App.tsx","redux/homeReducer/homeReducer.ts","redux/store.ts","index.tsx"],"names":["Header","React","useState","data","setDATA","userData","useSelector","homeReducer","dataUser","deleteTextInput","setDeleteTextInput","searchList","setSearchList","$parentInput","useRef","$input","useEffect","document","onclick","e","reloadPage","window","location","reload","Grid","container","direction","alignItems","style","padding","justify","item","xs","to","onClick","color","fontSize","className","ref","position","backgroundColor","borderRadius","IconButton","Input","onChange","value","currentTarget","length","Object","keys","map","reduce","acc","name","toLocaleLowerCase","includes","push","onFocus","current","classList","remove","add","onBlur","inputRef","placeholder","width","display","id","key","marginRight","fontWeight","date","textAlign","Avatar","AddDoc","generateKey","Date","now","toString","Box","Container","maxWidth","component","SET_SORT_AC","payload","type","RANGE_ACTION","range","PanelSort","sortPopupOptions","optionItem","sort","dispatch","useDispatch","$openSortPopup","setSortPopup","closeSortPopup","boxShadow","Menu","anchorEl","open","Boolean","top","index","MenuItem","changePopupSortItem","toLocaleDateString","month","getMonth","parseDate","split","generateDate","toLowerCase","slice","formatMonth","userID","localStorage","getItem","createID","setItem","CreateListDoc","getOptionsItem","setOptionsItem","openModal","setOpenModal","handleCloseModal","whiteSpace","overflow","textOverflow","marginLeft","firebase","deleteDocList","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","autoFocus","margin","label","defaultValue","fullWidth","DialogActions","Button","title","SET_NEW_NAME_ACTION","set","changeNameTitle","AllDocList","paddingBottom","minHeight","authInApp","a","once","then","result","val","Preloader","height","left","transform","Home","bind","maxHeight","pointerEvents","PAGE_INNER_HTML_ACTION","page","docReducer","history","useHistory","borderBottom","flexWrap","cursor","spellCheck","onInput","autosizeInput","defaultPageStyle","initialState","divPage","linkPrintDom","image","paddingTop","paddingLeft","paddingRight","lineHeight","innerHTML","emitter","EventEmitter","fontFamily","$stylesElem","Page","$divContent","pageDiv","setPageDiv","dispatchCallback","div","children","focus","getSelection","getRangeAt","currentImage","querySelector","DOM","execCommand","letterSpacing","onMouseDown","splice","target","styles","getComputedStyle","getFontSize","getFontFamily","getFont","startsWith","substr","formatGetFontFamily","getColor","getBG","getTextDecoration","webkitTextDecorationsInEffect","textDecorationLine","closest","querySelectorAll","forEach","checkNodeImageOrNot","flag","callback","rightCenter","dataset","rightBottom","bottomCenter","leftCenter","parentNode","pos","getBoundingClientRect","onmousemove","delta","x","right","deltaBottom","y","bottom","deltaLeft","onmouseup","resizeImage","imageMarginLeft","Math","floor","imageMarginRight","emit","emitterImageMargin","parentElement","localName","float","fontStyle","onSelect","anchorNode","onKeyDown","contentEditable","suppressContentEditableWarning","setStyles","comand","Range","selection","removeAllRanges","addRange","start","anchorOffset","end","focusOffset","Option","Select","Titles","placement","dropdownStyle","minWidth","Fonts","activeFont","setFont","on","FONT_FAMILY","textAlignDef","TextAlignment","setTextAlign","TEXT_ALIGN","changeTextAlign","LoadImage","setAnchorEl","validImage","setValidImage","handleClose","event","keepMounted","accept","reader","FileReader","files","test","onload","createImageDiv","readAsDataURL","multiple","htmlFor","notification","message","description","duration","LineHeight","LINE_HEIGHT_ACTION","FontWeight","boldActive","setBold","FONT_WEIGHT","FontStyle","italicActive","setItalic","FONT_STYLE","underline","Underline","underlined","setUnderlined","TEXT_DECORATION","colorDef","Color","activePopupColor","setPopupColor","setColor","$color","svgColorText","fillOpacity","COLOR","trigger","visible","onVisibleChange","content","hex","bg","BackgroundColor","activePopupBackgroundColor","setPopupBackgroundColor","getBackgroundColor","setBackgroundColor","$backgroundColor","svgBackgroundColor","Print","pagePadding","setPrintPage","printPagePadding","dangerouslySetInnerHTML","__html","FontSize","FONT_SIZE","ImageAlign","align","setAlign","side","changeAlign","activeImage","Float","setFloat","currentFloat","changeFloat","lineThrough","Strikethrough","strikethrough","setStrikethrough","List","list","setList","listNum","setListNum","listName","handleChange","Indents","Toolbar","borderRight","rightSlide","leftSlide","PADDING_LEFT_ACTION","PADDING_RIGHT_ACTION","borderTop","justifyContent","rightSlidePadding","flagDifference","difference","widthCalc","handleMouseLeftSlide","leftSlideWidth","abs","handleMouseRightSlide","LeftSlider","$lowerSlide","$upperSlide","PADDING_TOP_ACTION","PADDING_BOTTOM_ACTION","RootRef","rootRef","calcMaxHeight","scrollHeight","heightCalc","zIndex","MainBlock","pageDom","$pageDom","autoHide","Document","getDataServer","useParams","debounce","change","POST_LIST","POST_DATA_USER","JSON","stringify","App","setReload","useLocation","pathname","exact","path","store","createStore","combineReducers","state","action","b","stateDataUser","stateUserData","composeWithDevTools","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a717eeca.chunk.js","sourcesContent":["import {Avatar, Grid, IconButton, Input} from \"@material-ui/core\";\r\nimport DescriptionIcon from \"@material-ui/icons/Description\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\r\nimport React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {homeReducerTYPE} from \"../../redux/store\";\r\nimport { dataUserObjectType } from \"../../redux/homeReducer/homeReducer\";\r\nimport {documentPage, home} from \"../../core/link\";\r\n\r\n\r\nexport const Header : React.FC = () => {\r\n\r\n    const [data, setDATA] = React.useState<Array<dataUserObjectType>>([])\r\n    const userData = useSelector(({homeReducer} : homeReducerTYPE) => homeReducer.dataUser)\r\n    const [deleteTextInput, setDeleteTextInput] = React.useState<'none' | 'block'>('none')\r\n    const [searchList, setSearchList] = React.useState<'none' | 'block'>('none')\r\n    const $parentInput = React.useRef<HTMLDivElement>(null)\r\n    const $input = React.useRef<HTMLInputElement>(null)\r\n\r\n    React.useEffect(() => {\r\n        document.onclick = e => setSearchList('none')\r\n    }, [])\r\n\r\n    const reloadPage = () => window.location.reload()\r\n\r\n    const onChange = (e : React.ChangeEvent<HTMLInputElement> ) => {\r\n        const { value } = e.currentTarget\r\n\r\n        if (value.length >= 1) {\r\n            setDeleteTextInput('block')\r\n            setSearchList('block')\r\n        }\r\n        else {\r\n            setDeleteTextInput('none')\r\n            setSearchList('none')\r\n        }\r\n\r\n        const data = Object.keys(userData!)\r\n                           .map(item => userData![item])\r\n                           .reduce((acc : any,item) => {\r\n\r\n                               if (item.name.toLocaleLowerCase().includes(value.toLocaleLowerCase())) {\r\n                                   acc.push(item)\r\n                               }\r\n\r\n                               return acc\r\n\r\n                           }, [])\r\n        setDATA(data)\r\n    }\r\n\r\n    const delTextInput = () => {\r\n        $input.current!.value = ''\r\n        setDeleteTextInput('none')\r\n    }\r\n\r\n    const focusInput = () => {\r\n        $parentInput.current!.classList.remove('header__input-blur')\r\n        $parentInput.current!.classList.add('header__input-focus')\r\n    }\r\n\r\n    const blurInput = () => {\r\n        $parentInput.current!.classList.remove('header__input-focus')\r\n        $parentInput.current!.classList.add('header__input-blur')\r\n    }\r\n\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            alignItems=\"center\"\r\n            style={{padding : '8px 30px'}}\r\n        >\r\n                <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                    alignItems=\"center\"\r\n                    justify=\"flex-start\"\r\n                    item\r\n                    xs={3}\r\n                >\r\n                    <Link\r\n                        to={home}\r\n                        onClick={reloadPage}\r\n                    >\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"\r\n                            alignItems=\"center\"\r\n                            justify=\"flex-start\"\r\n                        >\r\n                            <DescriptionIcon\r\n                                style={{\r\n                                    color : '#5490F5',\r\n                                    fontSize : '40px',\r\n                                }}\r\n                            />\r\n                            <p\r\n                                className=\"header__doc-text\"\r\n                            >Документы</p>\r\n                        </Grid>\r\n                    </Link>\r\n\r\n                </Grid>\r\n\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                alignItems=\"center\"\r\n                item\r\n                xs={6}\r\n                ref={$parentInput}\r\n                style={{\r\n                    position : 'relative',\r\n                    backgroundColor: 'rgba(192,192,192,0.2)',\r\n                    borderRadius : \"10px\"\r\n                }}\r\n            >\r\n                <IconButton onClick={reloadPage}>\r\n                    <SearchIcon/>\r\n                </IconButton>\r\n                <Input\r\n                    onChange={onChange}\r\n                    onFocus={focusInput}\r\n                    onBlur={blurInput}\r\n                    inputRef={$input}\r\n                    placeholder=\"Поиск\"\r\n                    style={{\r\n                        width : '85%'\r\n                    }}\r\n                />\r\n                <IconButton\r\n                  style = {{\r\n                    display : deleteTextInput,\r\n                  }}\r\n                  onClick={delTextInput}\r\n                >\r\n                    <HighlightOffIcon\r\n                        style = {{\r\n                            color : '#000000'\r\n                        }}\r\n                    />\r\n                </IconButton>\r\n\r\n                <Grid\r\n                    className=\"header__doc-search-list\"\r\n                    style={{ display : searchList }}\r\n                >\r\n\r\n                    { !data.length\r\n                        ? <div\r\n                            style={{\r\n                                fontSize : '16px',\r\n                                fontWeight : 500,\r\n                                textAlign : 'center'\r\n                            }}\r\n                        >\r\n                            Ничего не найдено\r\n                        </div>\r\n\r\n                        : data.map(item => {\r\n                            return(\r\n                                <Link to={documentPage + item.id}>\r\n                                    <Grid\r\n                                        key={item.id}\r\n                                        container\r\n                                        direction=\"row\"\r\n                                        alignItems=\"center\"\r\n                                        justify=\"space-between\"\r\n                                        className=\"header__doc-search-list-item\"\r\n                                    >\r\n                                        <Grid\r\n                                            container\r\n                                            alignItems=\"center\"\r\n                                            direction=\"row\"\r\n                                            item\r\n                                            xs={10}\r\n                                        >\r\n                                            <AssignmentIcon\r\n                                                style = {{\r\n                                                    color : '#0b53ed',\r\n                                                    marginRight: '5px',\r\n                                                    fontSize : '20px'\r\n                                                }}\r\n                                            />\r\n                                            <h3 style={{\r\n                                                    fontSize : '16px',\r\n                                                    fontWeight : 500\r\n                                                }}\r\n                                            >\r\n                                                { item.name }\r\n                                            </h3>\r\n\r\n                                        </Grid>\r\n                                        <time>{ item.date }</time>\r\n                                   </Grid>\r\n                            </Link>\r\n                       )})}\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                alignItems=\"center\"\r\n                justify=\"flex-end\"\r\n                item\r\n                xs={3}>\r\n                <Avatar />\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","export const home = '/'\r\nexport const documentPage = '/doc/'","import {Box, Container} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { documentPage } from \"../../core/link\";\r\n\r\n\r\nexport const AddDoc : React.FC = () => {\r\n\r\n    const generateKey = Date.now().toString()\r\n\r\n\r\n    return (\r\n        <Box style={{\r\n            padding : '20px 0',\r\n            backgroundColor : '#F1F3F4'\r\n        }}\r\n        >\r\n            <Container\r\n                maxWidth=\"md\"\r\n            >\r\n\r\n                <Link\r\n                    to={documentPage + generateKey}\r\n                >\r\n                    <Box\r\n                        className=\"add__doc-plus\"\r\n                    />\r\n                </Link>\r\n                <Box\r\n                    component=\"h3\"\r\n                    className=\"add__doc-title\"\r\n                >\r\n                    Пустой файл\r\n                </Box>\r\n\r\n            </Container>\r\n        </Box>\r\n    )\r\n}\r\n","import {SET_DATA, SET_DELETE_DOC_LIST,SET_NEW_NAME, SET_SORT} from \"./homeConstants\";\r\nimport { RANGE } from \"../documentRecuder/docConstants\";\r\n\r\ntype SET_SORT_AC_TYPE = {\r\n    type : typeof SET_SORT,\r\n    payload : string\r\n}\r\nexport const SET_SORT_AC = (payload : string) : SET_SORT_AC_TYPE => {\r\n\r\n    return {\r\n        type : SET_SORT,\r\n        payload\r\n    }\r\n}\r\n\r\n\r\ntype SET_DATA_ACTION_TYPE = {\r\n    type : typeof SET_DATA,\r\n    payload : object\r\n}\r\nexport const SET_DATA_ACTION = (payload : object) : SET_DATA_ACTION_TYPE => {\r\n\r\n    return {\r\n        type : SET_DATA,\r\n        payload\r\n    }\r\n}\r\n\r\nexport const RANGE_ACTION = (range : Range | object) => {\r\n    return {\r\n        type : RANGE,\r\n        range\r\n    }\r\n}\r\n\r\ntype SET_DELETE_DOC_LIST_TYPE = {\r\n    type : typeof SET_DELETE_DOC_LIST,\r\n    payload : string\r\n}\r\nexport const SET_DELETE_DOC_LIST_ACTION = (payload : string) : SET_DELETE_DOC_LIST_TYPE => {\r\n\r\n    return {\r\n        type : SET_DELETE_DOC_LIST,\r\n        payload\r\n    }\r\n}\r\n\r\n\r\ntype SET_NEW_NAME_TYPE = {\r\n    type : typeof SET_NEW_NAME,\r\n    title : string,\r\n    key : string\r\n}\r\nexport const SET_NEW_NAME_ACTION = (title : string, key : string) : SET_NEW_NAME_TYPE => {\r\n\r\n    return {\r\n        type : SET_NEW_NAME,\r\n        title,\r\n        key\r\n    }\r\n}","export const SET_SORT = 'SET_SORT'\r\nexport const SET_DATA = 'SET_DATA'\r\nexport const SET_DELETE_DOC_LIST = 'SET_DELETE_DOC_LIST'\r\nexport const SET_NEW_NAME = 'SET_NEW_NAME'\r\n\r\n","export const LINK_PRINT_DOM = 'LINK_PRINT_DOM'\r\nexport const SET_PAGE_DOM = 'SET_PAGE_DOM'\r\n\r\nexport const PADDING_LEFT = 'PADDING_LEFT'\r\nexport const PADDING_RIGHT = 'PADDING_RIGHT'\r\nexport const PADDING_TOP = 'PADDING_TOP'\r\nexport const PADDING_BOTTOM = 'PADDING_BOTTOM'\r\nexport const LINE_HEIGHT = 'LINE_HEIGHT'\r\nexport const TITLE = 'TITLE'\r\nexport const PAGE_SERVER_DATA = 'PAGE_SERVER_DATA'\r\nexport const PAGE_INNER_HTML = 'PAGE_INNER_HTML'\r\n\r\nexport const STYLES = 'STYLES'\r\nexport const RANGE = 'RANGE'\r\n\r\nexport const IMAGE = 'IMAGE'","import React, {FunctionComponent} from \"react\";\r\nimport {Box, Container, Grid, IconButton, Menu} from \"@material-ui/core\";\r\nimport SortByAlphaIcon from \"@material-ui/icons/SortByAlpha\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {homeReducerTYPE} from \"../../redux/store\";\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport {SET_SORT_AC} from \"../../redux/homeReducer/homeAction\";\r\n\r\nexport const PanelSort : FunctionComponent = () => {\r\n\r\n    const sortPopupOptions : string[] = ['По названию', 'По дате изменения']\r\n\r\n    const optionItem = useSelector(  ( { homeReducer } : homeReducerTYPE) => homeReducer.sort)\r\n    const userData = useSelector(({homeReducer} : homeReducerTYPE) => homeReducer.dataUser)\r\n\r\n    const dispatch = useDispatch()\r\n    const [$openSortPopup, setSortPopup] = React.useState<any>(null)\r\n\r\n    React.useEffect(() => {\r\n        dispatch(SET_SORT_AC(sortPopupOptions[1]))\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [sortPopupOptions[1]])\r\n\r\n    const changePopupSortItem = (item : string) => {\r\n        dispatch(SET_SORT_AC(item))\r\n    }\r\n\r\n    const openSortPopup = (e : React.MouseEvent) => {\r\n        setSortPopup(e.currentTarget)\r\n    }\r\n\r\n    const closeSortPopup = () => {\r\n        setSortPopup(null)\r\n    }\r\n\r\n    return (\r\n        <Box style={{\r\n            display : userData !== null && !Object.keys(userData).length ? 'none' : 'block',\r\n            padding : '5px 0',\r\n            backgroundColor : '#fff',\r\n            boxShadow : '0px 6px 9px 0px rgba(60, 64, 67, 0.15)'\r\n        }}\r\n        >\r\n\r\n            <Container\r\n                maxWidth=\"md\"\r\n                style={{\r\n                    padding : '0 18px',\r\n                }}\r\n            >\r\n\r\n                <Grid\r\n                    container\r\n                    alignItems=\"center\"\r\n                >\r\n\r\n                    <Grid\r\n                        item\r\n                        xs={7}\r\n                    >\r\n                        <h4\r\n                            style={{\r\n                                fontWeight : 'normal',\r\n                                fontSize : '16px'\r\n                            }}\r\n                        >Название документов</h4>\r\n                    </Grid>\r\n\r\n                    <Grid\r\n                        item\r\n                        xs={4}\r\n                        style={{\r\n                            fontWeight : 'bold',\r\n                            fontSize : '14px'\r\n                        }}\r\n                    >\r\n                        {optionItem}\r\n                    </Grid>\r\n\r\n                    <Grid\r\n                        item\r\n                        xs={1}\r\n                    >\r\n\r\n                        <IconButton\r\n                            onClick={openSortPopup}\r\n                        >\r\n                            <SortByAlphaIcon\r\n                                style={{\r\n                                    color: '#000'\r\n                                }}\r\n                            />\r\n                        </IconButton>\r\n\r\n                        <Menu\r\n                            anchorEl={$openSortPopup}\r\n                            open={Boolean($openSortPopup)}\r\n                            onClick={closeSortPopup}\r\n                            style={{\r\n                                top : '50px'\r\n                            }}\r\n                        >\r\n                            { sortPopupOptions.map( (item,index) => {\r\n                                return <MenuItem\r\n                                    key={item}\r\n                                    onClick={() => {\r\n                                        closeSortPopup()\r\n                                        changePopupSortItem(item)\r\n                                    }}>\r\n                                    { optionItem === item\r\n                                                    ? <DoneIcon\r\n                                                       style={{\r\n                                                           fontSize : '18px',\r\n                                                           marginRight : '10px'\r\n                                                       }}/>\r\n                                                    : ''}\r\n                                    { item }\r\n                                </MenuItem>\r\n                            }) }\r\n                        </Menu>\r\n\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n            </Container>\r\n\r\n        </Box>\r\n    )\r\n}","export const formatMonth = (month : string) => {\r\n    return month[0].toLowerCase() + month.slice(1, month.length)\r\n}\r\n\r\nexport const addMonths : string[] = [\r\n    'Янв',\r\n    'Фев',\r\n    'Мар',\r\n    'Апр',\r\n    'Май',\r\n    'Июн',\r\n    'Июл',\r\n    'Авг',\r\n    'Сен',\r\n    'Окт',\r\n    'Ноя',\r\n    'Дек'\r\n]\r\n\r\nexport const date = new Date().toLocaleDateString()\r\nexport const month = new Date().getMonth()\r\nexport const parseDate = date.split(\".\")\r\nexport const generateDate = `${parseDate[0]} ${formatMonth(addMonths[month])}. ${parseDate[2]} г.`\r\n\r\nexport const userID = () => {\r\n    const key = localStorage.getItem('googleReactKey')\r\n\r\n    if (!key) {\r\n        const createID = Date.now().toString()\r\n        localStorage.setItem('googleReactKey', createID)\r\n        userID()\r\n    }\r\n\r\n    return key\r\n}","import React from \"react\";\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    Grid,\r\n    IconButton,\r\n    Menu,\r\n    TextField\r\n} from \"@material-ui/core\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport TextFieldsIcon from \"@material-ui/icons/TextFields\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {homeReducerTYPE} from \"../../redux/store\";\r\nimport {SET_DELETE_DOC_LIST_ACTION, SET_NEW_NAME_ACTION} from \"../../redux/homeReducer/homeAction\";\r\nimport * as firebase from \"firebase\";\r\nimport 'firebase/database';\r\nimport {userID} from \"../../core/different\";\r\nimport {documentPage} from \"../../core/link\";\r\n\r\n\r\nexport const CreateListDoc = ({ id : item } : {id : string}) => {\r\n\r\n    const [getOptionsItem, setOptionsItem] = React.useState<any>(false)\r\n    const [openModal, setOpenModal] = React.useState(false);\r\n    const $input = React.useRef<HTMLInputElement>(null)\r\n\r\n    const userData = useSelector(({homeReducer} : homeReducerTYPE) => homeReducer.dataUser)!\r\n    const dispatch = useDispatch()\r\n\r\n    const openOptionsItem = (e : React.MouseEvent) => {\r\n        setOptionsItem(e.currentTarget)\r\n    }\r\n\r\n    const closeOptionsItem = () => {\r\n        setOptionsItem(false)\r\n    }\r\n\r\n    const handleOpenModal = () => {\r\n        setOpenModal(true)\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setOpenModal(false)\r\n        setOptionsItem(false)\r\n    };\r\n\r\n\r\n    const deleteDocList = (key : any) => {\r\n        dispatch(SET_DELETE_DOC_LIST_ACTION(key))\r\n\r\n        const id = userID()\r\n\r\n        firebase\r\n            .database()\r\n            .ref(`/docReact/${id}/list/${key}/`)\r\n            .remove()\r\n\r\n        firebase\r\n            .database()\r\n            .ref(`/docReact/${id}/docsDATA/${key}/`)\r\n            .remove()\r\n    }\r\n\r\n\r\n    const changeNameTitle = (key : string) => {\r\n        const value = $input.current!.value === '' ? 'Новый документ' : $input.current!.value\r\n        dispatch(SET_NEW_NAME_ACTION(value, key))\r\n\r\n        const id = userID()\r\n\r\n        firebase\r\n            .database()\r\n            .ref(`/docReact/${id}/list/${key}/name/`)\r\n            .set(value)\r\n\r\n        firebase\r\n            .database()\r\n            .ref(`/docReact/${id}/docsDATA/${key}/title/`)\r\n            .set(value)\r\n    }\r\n\r\n\r\n    return (\r\n        <Grid\r\n            key={item}\r\n            container\r\n            alignItems=\"center\"\r\n            className=\"item__hover\"\r\n            style={{padding: '0 10px'}}\r\n        >\r\n            <Grid\r\n                item\r\n                xs={7}\r\n            >\r\n                <Grid\r\n                    container\r\n                    alignItems=\"center\"\r\n                    direction=\"row\"\r\n                >\r\n                    <Link\r\n                        to={`${documentPage}${userData[item].id}`}\r\n                        style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center'\r\n                        }}\r\n                    >\r\n                        <AssignmentIcon\r\n                            style={{\r\n                                color: '#1654de'\r\n                            }}\r\n                        />\r\n                    </Link>\r\n\r\n                    <Grid\r\n                        item\r\n                        xs={11}>\r\n                        <Link\r\n                            to={`${documentPage}${userData[item].id}`}\r\n                            style={{\r\n                                display: 'block',\r\n                                color: '#000',\r\n                                whiteSpace: 'nowrap',\r\n                                overflow: 'hidden',\r\n                                textOverflow: 'ellipsis',\r\n                                marginLeft: '10px',\r\n                                fontSize: '15px',\r\n                                fontWeight: 500\r\n                            }}\r\n                        >\r\n                            {userData[item].name}\r\n                        </Link>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Grid\r\n                item\r\n                xs={4}\r\n            >\r\n                <Link\r\n                    to={`${documentPage}${userData[item].id}`}\r\n                    style={{\r\n                        display: 'block',\r\n                        color: '#000'\r\n                    }}\r\n                >\r\n                    {userData[item].date}\r\n                </Link>\r\n\r\n            </Grid>\r\n\r\n            <Grid\r\n                item\r\n                xs={1}\r\n            >\r\n                <IconButton onClick={openOptionsItem}>\r\n                    <MoreVertIcon/>\r\n                </IconButton>\r\n\r\n                <Menu\r\n                    anchorEl={getOptionsItem}\r\n                    open={Boolean(getOptionsItem)}\r\n                    onClick={closeOptionsItem}\r\n                    style={{top: '50px'}}\r\n                >\r\n                    <MenuItem onClick={handleOpenModal}>\r\n                        <TextFieldsIcon style={{marginRight: '10px', color: '#767676'}}/>\r\n                        Перейменовать\r\n                    </MenuItem>\r\n\r\n                    <MenuItem onClick={() => {deleteDocList(item)}}>\r\n                        <DeleteForeverIcon style={{marginRight: '10px', color: '#999999'}}/>\r\n                        Удалить\r\n                    </MenuItem>\r\n\r\n                </Menu>\r\n\r\n            </Grid>\r\n\r\n            <Dialog\r\n                open={openModal}\r\n                onClose={handleCloseModal}\r\n                aria-labelledby=\"form-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    Переименовать документ\r\n                </DialogTitle>\r\n                <DialogContent>\r\n\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"name\"\r\n                        label=\"Название документа\"\r\n                        defaultValue={userData![item].name}\r\n                        type=\"text\"\r\n                        fullWidth\r\n                        inputRef={$input}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleCloseModal} color=\"primary\">\r\n                        Закрыть\r\n                    </Button>\r\n                    <Button onClick={() => {\r\n                        handleCloseModal()\r\n                        changeNameTitle(item)\r\n                    }}\r\n                            color=\"primary\"\r\n                    >\r\n                        Изменить\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n        </Grid>\r\n    )\r\n}","import React, {FunctionComponent} from \"react\";\r\nimport {Box, Container, Grid} from \"@material-ui/core\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {homeReducerTYPE} from \"../../redux/store\";\r\nimport EventBusyIcon from '@material-ui/icons/EventBusy';\r\nimport {CreateListDoc} from \"./CreateListDoc\";\r\n\r\n\r\nexport const AllDocList : FunctionComponent = () => {\r\n\r\n    const userData = useSelector(({homeReducer} : homeReducerTYPE) => homeReducer.dataUser)\r\n\r\n    return (\r\n        <Container\r\n            maxWidth=\"md\"\r\n            style={{\r\n                padding : '10px 5px',\r\n                paddingBottom : '130px'\r\n            }}\r\n        >\r\n\r\n            { userData !== null\r\n              && !Object.keys(userData).length\r\n              && <Grid\r\n                    container\r\n                    alignItems=\"center\"\r\n                    justify=\"center\"\r\n                    style={{\r\n                        minHeight : '250px',\r\n                    }}>\r\n\r\n                        <Box component=\"h3\">\r\n                            Поле документов пустое\r\n                        </Box>\r\n\r\n                        <EventBusyIcon\r\n                            style={{\r\n                                marginLeft : \"8px\",\r\n                                fontSize : '28px',\r\n                                color : '#1a48b5'\r\n                        }}/>\r\n\r\n              </Grid>\r\n            }\r\n\r\n            {userData !== null\r\n             &&\r\n             Object.keys(userData)\r\n                   .map( (item) => <CreateListDoc key={item} id={item} />)}\r\n\r\n        </Container>\r\n    )\r\n}","import * as firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport { SET_DATA_ACTION } from '../../redux/homeReducer/homeAction';\r\nimport {userID} from \"../../core/different\";\r\n\r\nexport function authInApp(dispatch : any) : void {\r\n\r\n    const key = userID()\r\n\r\n    ;( async () => {\r\n        await firebase.database()\r\n            .ref(`/docReact/${key}/list/`)\r\n            .once('value')\r\n            .then(value => {\r\n                const result = value.val() ? value.val() : {}\r\n                dispatch(SET_DATA_ACTION(result))\r\n            })\r\n    })();\r\n}","import {FC} from \"react\";\r\nimport React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress/CircularProgress\";\r\nimport {Box} from \"@material-ui/core\";\r\n\r\n\r\ntype PreloaderTYPE = {\r\n    height : string,\r\n    width : string\r\n}\r\n\r\nexport const Preloader : FC<PreloaderTYPE> = ({height, width}) => {\r\n\r\n    return (\r\n        <Box\r\n            style={{\r\n                position : \"absolute\",\r\n                top : '50%',\r\n                left : '50%',\r\n                transform : 'translate(-50%, -50%)'\r\n            }}\r\n        >\r\n\r\n        <CircularProgress\r\n            style={{\r\n                position : \"absolute\",\r\n                height,\r\n                width\r\n            }}\r\n        />\r\n\r\n    </Box>)\r\n}","import React, {FunctionComponent} from \"react\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport {Box } from \"@material-ui/core\";\r\nimport {Header} from \"../components/home/Header\";\r\nimport {AddDoc} from \"../components/home/Add_Doc\";\r\nimport {PanelSort} from \"../components/home/Panel_Sort\";\r\nimport {AllDocList} from \"../components/home/All_Doc_List\";\r\nimport { authInApp } from \"../components/home/auth\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {homeReducerTYPE} from \"../redux/store\";\r\nimport {Preloader} from \"../components/home/Preloader\";\r\n\r\n\r\nexport const Home : FunctionComponent = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const userData = useSelector(({homeReducer} : homeReducerTYPE) => homeReducer.dataUser)\r\n\r\n    React.useEffect( authInApp.bind(null, dispatch), [])\r\n\r\n\r\n    if (!userData) {\r\n        return (\r\n            <Box style={{ pointerEvents : 'none'}}>\r\n\r\n                <Header />\r\n\r\n                <AddDoc />\r\n\r\n                <Box style={{ position: \"relative\", minHeight : '200px'}}>\r\n                    <Preloader height=\"50px\" width=\"50px\"/>\r\n                </Box>\r\n\r\n            </Box>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <SimpleBar style={{ maxHeight : '100vh' }}>\r\n\r\n                <Header />\r\n\r\n                <AddDoc />\r\n\r\n                <PanelSort />\r\n\r\n                <AllDocList />\r\n\r\n            </SimpleBar>\r\n        </>\r\n    )\r\n}","import {\r\n    LINK_PRINT_DOM,\r\n    SET_PAGE_DOM,\r\n    PADDING_LEFT,\r\n    PADDING_RIGHT,\r\n    PADDING_TOP,\r\n    PADDING_BOTTOM,\r\n    LINE_HEIGHT,\r\n    IMAGE,\r\n    TITLE,\r\n    PAGE_SERVER_DATA,\r\n    PAGE_INNER_HTML\r\n} from \"./docConstants\";\r\n\r\n\r\ntype LINK_PRINT_DOM_TYPE = {\r\n    type : typeof LINK_PRINT_DOM,\r\n    DOM : HTMLDivElement\r\n}\r\nexport const LINK_PRINT_DOM_ACTION = (DOM : HTMLDivElement) : LINK_PRINT_DOM_TYPE => {\r\n\r\n    return {\r\n        type : LINK_PRINT_DOM,\r\n        DOM\r\n    }\r\n}\r\n\r\n\r\ntype TITLE_PAGE_TYPE = {\r\n    type : typeof TITLE,\r\n    title : string\r\n}\r\nexport const TITLE_PAGE_ACTION = (title : string) : TITLE_PAGE_TYPE => {\r\n\r\n    return {\r\n        type : TITLE,\r\n        title\r\n    }\r\n}\r\n\r\ntype PAGE_SERVER_DATA_TYPE = {\r\n    type : typeof PAGE_SERVER_DATA,\r\n    data : object\r\n}\r\nexport const PAGE_SERVER_DATA_ACTION = (data : object) : PAGE_SERVER_DATA_TYPE => {\r\n\r\n    return {\r\n        type : PAGE_SERVER_DATA,\r\n        data\r\n    }\r\n}\r\n\r\n\r\ntype PAGE_INNER_HTML_TYPE = {\r\n    type : typeof PAGE_INNER_HTML,\r\n    data : string\r\n}\r\nexport const PAGE_INNER_HTML_ACTION = (data : string) : PAGE_INNER_HTML_TYPE => {\r\n\r\n    return {\r\n        type : PAGE_INNER_HTML,\r\n        data\r\n    }\r\n}\r\n\r\n\r\ntype SET_PAGE_DOM_TYPE = {\r\n    type : typeof SET_PAGE_DOM,\r\n    DOM : HTMLDivElement\r\n}\r\nexport const SET_PAGE_DOM_ACTION = (DOM : HTMLDivElement) : SET_PAGE_DOM_TYPE => {\r\n    return {\r\n        type : SET_PAGE_DOM,\r\n        DOM\r\n    }\r\n}\r\n\r\ntype PADDING_LEFT_TYPE = {\r\n    type : typeof PADDING_LEFT,\r\n    width : number\r\n}\r\nexport const PADDING_LEFT_ACTION = (width : number) : PADDING_LEFT_TYPE => {\r\n    return {\r\n        type : PADDING_LEFT,\r\n        width\r\n    }\r\n}\r\n\r\n\r\ntype PADDING_RIGHT_TYPE = {\r\n    type : typeof PADDING_RIGHT,\r\n    width : number\r\n}\r\nexport const PADDING_RIGHT_ACTION = (width : number) : PADDING_RIGHT_TYPE => {\r\n    return {\r\n        type : PADDING_RIGHT,\r\n        width\r\n    }\r\n}\r\n\r\n\r\ntype PADDING_TOP_TYPE = {\r\n    type : typeof PADDING_TOP,\r\n    height : number\r\n}\r\nexport const PADDING_TOP_ACTION = (height : number) : PADDING_TOP_TYPE => {\r\n    return {\r\n        type : PADDING_TOP,\r\n        height\r\n    }\r\n}\r\n\r\n\r\ntype PADDING_BOTTOM_TYPE = {\r\n    type : typeof PADDING_BOTTOM,\r\n    height : number\r\n}\r\nexport const PADDING_BOTTOM_ACTION = (height : number) : PADDING_BOTTOM_TYPE => {\r\n    return {\r\n        type : PADDING_BOTTOM,\r\n        height\r\n    }\r\n}\r\n\r\ntype LINE_HEIGHT_TYPE = {\r\n    type : typeof LINE_HEIGHT,\r\n    lineHeight : number\r\n}\r\nexport const LINE_HEIGHT_ACTION = (lineHeight : number) : LINE_HEIGHT_TYPE => {\r\n    return {\r\n        type : LINE_HEIGHT,\r\n        lineHeight\r\n    }\r\n}\r\n\r\n\r\nexport const IMAGE_ACTION = (flag : boolean) => {\r\n    return {\r\n        type : IMAGE,\r\n        flag\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {docReducerTYPE} from \"../../redux/store\";\r\nimport {Grid } from \"@material-ui/core\";\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport { TITLE_PAGE_ACTION } from \"../../redux/documentRecuder/docAction\";\r\nimport {home} from \"../../core/link\";\r\n//@ts-ignore\r\nimport autosizeInput from 'autosize-input'\r\n\r\n\r\n\r\nexport const Header = () => {\r\n\r\n    const { page } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory();\r\n\r\n    const handleClick = () => history.push(home)\r\n\r\n    const handleInput = (e : React.FormEvent<HTMLInputElement>) => {\r\n        const value = e.currentTarget.value\r\n        autosizeInput(e.currentTarget)\r\n        dispatch(TITLE_PAGE_ACTION(value ? value : 'Новый документ'))\r\n    }\r\n\r\n\r\n    return (\r\n        <header\r\n          style={{\r\n              backgroundColor : '#ffffff',\r\n              borderBottom : '1px solid gray'\r\n          }}\r\n        >\r\n          <Grid\r\n            container\r\n            alignItems=\"center\"\r\n            style={{\r\n                padding : '8px 20px',\r\n                flexWrap : 'nowrap',\r\n            }}\r\n          >\r\n\r\n              <DescriptionIcon\r\n                  onClick={handleClick}\r\n                  style={{\r\n                      marginRight : '8px',\r\n                      fontSize: 40,\r\n                      color: '#2042d1',\r\n                      cursor : 'pointer'\r\n              }}/>\r\n\r\n              <div style={{\r\n                  display : 'flex',\r\n                  alignItems : 'center',\r\n                  overflow : 'hidden',\r\n              }}>\r\n                  <input\r\n                      type=\"text\"\r\n                      spellCheck={\"false\"}\r\n                      defaultValue={page.title}\r\n                      onInput={handleInput}\r\n                      className=\"header__doc-title\"\r\n                  />\r\n\r\n              </div>\r\n\r\n          </Grid>\r\n\r\n      </header>\r\n    )\r\n}","import {\r\n    LINK_PRINT_DOM,\r\n    PADDING_BOTTOM,\r\n    PADDING_LEFT,\r\n    PADDING_RIGHT,\r\n    PADDING_TOP,\r\n    SET_PAGE_DOM,\r\n    RANGE,\r\n    LINE_HEIGHT,\r\n    TITLE,\r\n    IMAGE,\r\n    PAGE_SERVER_DATA,\r\n    PAGE_INNER_HTML\r\n} from \"./docConstants\";\r\n\r\n\r\n\r\nexport const defaultPageStyle = {\r\n    fontSize : '16',\r\n    fontSizeView : '16',\r\n    fontWeight : '400',\r\n    fontStyle : 'normal',\r\n    underline : 'none',\r\n    fontFamily : 'Roboto',\r\n    color : '#000',\r\n    bg : '#fff',\r\n    lineThrough : 'none',\r\n    textAlign : 'left'\r\n}\r\n\r\nexport type defaultPageStyleType = typeof defaultPageStyle\r\n\r\nconst initialState = {\r\n\r\n    divPage : null,\r\n    linkPrintDom : null,\r\n    image : false,\r\n    page : {\r\n        title : 'Новый документ',\r\n        paddingTop : 30,\r\n        paddingBottom : 30,\r\n        paddingLeft : 50,\r\n        paddingRight : 50,\r\n        lineHeight : 1.2,\r\n        innerHTML : '',\r\n    },\r\n    range : {},\r\n}\r\n\r\nexport type InitialStateDoc = typeof initialState\r\n\r\nexport function docReducer(state = initialState, action : any) {\r\n\r\n    switch (action.type) {\r\n\r\n\r\n        case PAGE_SERVER_DATA :\r\n\r\n            state.page = {...state.page, ...action.data}\r\n\r\n            return {...state}\r\n\r\n        case LINK_PRINT_DOM :\r\n\r\n            return {\r\n                ...state,\r\n                linkPrintDom : action.DOM\r\n            }\r\n\r\n        case PAGE_INNER_HTML :\r\n\r\n            state.page.innerHTML = action.data\r\n\r\n            return {...state}\r\n\r\n        case SET_PAGE_DOM :\r\n\r\n            return {\r\n                ...state,\r\n                divPage : action.DOM\r\n            }\r\n\r\n        case RANGE :\r\n\r\n            return {\r\n                ...state,\r\n                range : action.range\r\n            }\r\n\r\n        case IMAGE :\r\n\r\n            return {\r\n                ...state,\r\n                image : action.flag\r\n            }\r\n\r\n        case TITLE :\r\n\r\n            state.page.title = action.title\r\n\r\n            return {...state}\r\n\r\n        case PADDING_TOP :\r\n\r\n            state.page.paddingTop = action.height\r\n\r\n            return {...state}\r\n\r\n        case PADDING_BOTTOM :\r\n\r\n            state.page.paddingBottom = action.height\r\n\r\n            return {...state}\r\n\r\n        case PADDING_LEFT :\r\n\r\n            state.page.paddingLeft = action.width\r\n\r\n            return {...state}\r\n\r\n        case PADDING_RIGHT :\r\n\r\n            state.page.paddingRight = action.width\r\n\r\n            return {...state}\r\n\r\n        case LINE_HEIGHT :\r\n\r\n            state.page.lineHeight = action.lineHeight\r\n\r\n            return {...state}\r\n\r\n        default :\r\n            return { ...state }\r\n    }\r\n\r\n}","import { EventEmitter } from 'events'\r\n\r\nexport const emitter = new EventEmitter()","import React from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    IMAGE_ACTION,\r\n    LINK_PRINT_DOM_ACTION, PAGE_INNER_HTML_ACTION,\r\n} from \"../../../../redux/documentRecuder/docAction\";\r\nimport {docReducerTYPE} from \"../../../../redux/store\";\r\nimport {defaultPageStyle} from \"../../../../redux/documentRecuder/docReducer\";\r\nimport {checkNodeImageOrNot, formatGetFontFamily, resizeImage, emitterImageMargin} from \"./page.functions\";\r\nimport {RANGE_ACTION} from \"../../../../redux/homeReducer/homeAction\";\r\nimport { emitter } from \"../../../../core/emitter\";\r\n\r\n\r\n\r\nexport const widthPage = 800\r\nexport const heightPage = 1200\r\n\r\nconst { fontFamily } = defaultPageStyle\r\n\r\n// @ts-ignore\r\nexport const $stylesElem : [{comand : string, value : string}] = []\r\n\r\nexport const Page = () => {\r\n\r\n    const { page } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const $divContent = React.useRef<HTMLDivElement>(null)\r\n    const [pageDiv, setPageDiv] = React.useState<HTMLDivElement | null>(null)\r\n    const dispatch = useDispatch()\r\n\r\n    const dispatchCallback = () => {\r\n        const div = $divContent.current!.children[0] as HTMLDivElement\r\n        dispatch(PAGE_INNER_HTML_ACTION(div.innerHTML))\r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n\r\n        const div = $divContent.current!.children[0] as HTMLDivElement\r\n        div.focus()\r\n        div.innerHTML = page.innerHTML\r\n        document.title = page.title\r\n\r\n        const range = document.getSelection()!.getRangeAt(0)\r\n\r\n        const currentImage = pageDiv?.querySelector('.activeImage')\r\n        if (currentImage) currentImage.classList.remove('activeImage')\r\n\r\n        dispatch(LINK_PRINT_DOM_ACTION(div))\r\n        dispatch(RANGE_ACTION(range))\r\n\r\n        setPageDiv(div)\r\n        document.execCommand('styleWithCSS', false, 'true')\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [pageDiv])\r\n\r\n\r\n    const handleInput = (e : React.FormEvent<HTMLDivElement>) => {\r\n        $stylesElem.splice(0, $stylesElem.length)\r\n        dispatch(PAGE_INNER_HTML_ACTION(e.currentTarget.innerHTML))\r\n    }\r\n\r\n\r\n    const handleKey = (e : React.KeyboardEvent) => {\r\n        if(e.key === 'Delete') {\r\n            const currentImage = pageDiv?.querySelector('.activeImage')\r\n            if(currentImage) currentImage.remove()\r\n        }\r\n    }\r\n\r\n    const handleSelectText = () => {\r\n        const value = document.getSelection()!.toString()\r\n\r\n        if (value) {\r\n            const range = document.getSelection()!.getRangeAt(0)\r\n            dispatch(RANGE_ACTION(range))\r\n        }\r\n    }\r\n\r\n\r\n    const handleClickSelectRange = () => {\r\n        const selection = document.getSelection()!\r\n\r\n        if (selection.anchorNode) {\r\n            const range = document.getSelection()!.getRangeAt(0)\r\n            dispatch(RANGE_ACTION(range))\r\n        }\r\n    }\r\n\r\n\r\n    const handleMouse = (e : React.MouseEvent) => {\r\n\r\n        $stylesElem.splice(0, $stylesElem.length)\r\n\r\n        const target = e.target as HTMLDivElement\r\n        const styles = window.getComputedStyle(target) as any\r\n\r\n        const getFontSize = styles.fontSize.split('px')[0]\r\n        const getFontFamily = formatGetFontFamily(styles.fontFamily)\r\n        const getColor = styles.color\r\n        const getBG = styles.backgroundColor\r\n        const getTextDecoration = styles.webkitTextDecorationsInEffect?.split(' ') || styles.textDecorationLine.split(' ')\r\n\r\n\r\n        const image = checkNodeImageOrNot(target, pageDiv)\r\n        dispatch(IMAGE_ACTION(image))\r\n\r\n\r\n        resizeImage(target, dispatchCallback)\r\n\r\n        emitterImageMargin(styles)\r\n        emitter.emit('LIST', target.parentElement!.localName)\r\n        emitter.emit('FLOAT', styles.float)\r\n        emitter.emit('FONT_SIZE', getFontSize)\r\n        emitter.emit('FONT_WEIGHT', styles.fontWeight)\r\n        emitter.emit('FONT_STYLE', styles.fontStyle)\r\n        emitter.emit('UNDERLINE', getTextDecoration.includes('underline') ? 'underline' : 'none')\r\n        emitter.emit('STRIKETHROUGH', getTextDecoration.includes('line-through') ? 'line-through' : 'none')\r\n        emitter.emit('FONT_FAMILY', getFontFamily)\r\n        emitter.emit('COLOR', getColor)\r\n        emitter.emit('BACKGROUND_COLOR', getBG)\r\n        emitter.emit('TEXT_ALIGN', styles.textAlign === 'start' ? 'left' : styles.textAlign)\r\n    }\r\n\r\n\r\n    return (\r\n            <div\r\n                ref={$divContent}\r\n                style={{\r\n                    minHeight : heightPage,\r\n                    width : widthPage,\r\n                    margin : '0 auto',\r\n                    paddingTop : page.paddingTop,\r\n                    paddingBottom : page.paddingBottom,\r\n                    paddingRight : page.paddingRight,\r\n                    paddingLeft : page.paddingLeft,\r\n                    fontFamily : fontFamily + ',sans-serif',\r\n                    letterSpacing: '0.5px',\r\n                    lineHeight : page.lineHeight,\r\n                    backgroundColor : '#ffffff',\r\n                    overflow : 'hidden',\r\n                    boxShadow: 'rgba(60, 64, 67, 0.15) 0px 1px 3px 1px',\r\n                }}\r\n            >\r\n                    <div\r\n                        onMouseDown={handleMouse}\r\n                        onSelect={handleSelectText}\r\n                        onClick={handleClickSelectRange}\r\n                        onKeyDown={handleKey}\r\n                        onInput={handleInput}\r\n                        contentEditable={true}\r\n                        spellCheck={\"false\"}\r\n                        suppressContentEditableWarning={true}\r\n                        className=\"page\"\r\n                    >\r\n                    </div>\r\n            </div>\r\n    )\r\n}","import {$stylesElem} from \"./Page\";\r\nimport {emitter} from \"../../../../core/emitter\";\r\n\r\nexport function formatGetFontFamily(fontFamily : string) {\r\n\r\n    const getFont = fontFamily.split(',')[0]\r\n\r\n    return getFont.startsWith('\"')\r\n             ? getFont.substr(1, getFont.length - 2)\r\n             : getFont\r\n}\r\n\r\n\r\nexport function setStyles(range : object, comand : string, value : string = '') {\r\n\r\n    if (range instanceof Range) {\r\n        const selection = document.getSelection()!\r\n        selection.removeAllRanges();\r\n        selection.addRange(range)\r\n\r\n        const start = selection.anchorOffset\r\n        const end = selection.focusOffset\r\n\r\n        if (start !== end) {\r\n            document.execCommand(comand, false, value)\r\n        }\r\n        else {\r\n            $stylesElem.push( {comand, value} )\r\n            $stylesElem.forEach(item => {\r\n                document.execCommand(item.comand, false, item.value)\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function resizeImage(target : HTMLDivElement, callback : () => void) {\r\n\r\n    const rightCenter = target.dataset['rightcenter']\r\n    const rightBottom = target.dataset['rightbottom']\r\n    const bottomCenter = target.dataset['bottomcenter']\r\n    const leftCenter = target.dataset['leftcenter']\r\n\r\n    if (rightCenter || rightBottom || bottomCenter || leftCenter) {\r\n\r\n        const parentNode = target.parentNode as HTMLDivElement\r\n        const pos = parentNode.getBoundingClientRect()\r\n\r\n        document.onmousemove = e => {\r\n\r\n            const delta = e.x - pos.right\r\n            const deltaBottom = e.y - pos.bottom\r\n            const deltaLeft = pos.left - e.x\r\n\r\n            if (rightCenter) {\r\n                parentNode.style.width = pos.width + delta + 'px'\r\n            }\r\n            else if (rightBottom) {\r\n                parentNode.style.height = pos.height + delta + 'px'\r\n                parentNode.style.width = pos.width + delta + 'px'\r\n            }\r\n            else if (leftCenter) {\r\n                parentNode.style.width = pos.width + deltaLeft + 'px'\r\n            }\r\n            else {\r\n                parentNode.style.height = pos.height + deltaBottom + 'px'\r\n            }\r\n        }\r\n\r\n        document.onmouseup = e => {\r\n            document.onmousemove = null\r\n            document.onmouseup = null\r\n            callback()\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function checkNodeImageOrNot(target : HTMLElement, pageDiv : HTMLDivElement | null) {\r\n\r\n    if (target.closest('.image')) {\r\n\r\n        if ( !target.closest('.activeImage') ) {\r\n            pageDiv\r\n                ?.querySelectorAll('.image')\r\n                .forEach(item => item.classList.remove('activeImage'))\r\n\r\n            target.classList.add('activeImage')\r\n        }\r\n\r\n        return true\r\n    }\r\n    else {\r\n        pageDiv\r\n            ?.querySelectorAll('.image')\r\n            .forEach(item => item.classList.remove('activeImage'))\r\n\r\n        return false\r\n    }\r\n\r\n}\r\n\r\n\r\nexport function emitterImageMargin(styles : any) {\r\n\r\n    const imageMarginLeft = Math.floor( +styles.marginLeft.split('px')[0] )\r\n    const imageMarginRight = Math.floor( +styles.marginRight.split('px')[0] )\r\n\r\n\r\n    if(imageMarginLeft > imageMarginRight) {\r\n        emitter.emit('IMAGE__SIDE', 'right')\r\n    }\r\n    else if (imageMarginRight > imageMarginLeft) {\r\n        emitter.emit('IMAGE__SIDE', 'left')\r\n    }\r\n    else if (imageMarginRight === imageMarginLeft) {\r\n        emitter.emit('IMAGE__SIDE', 'center')\r\n    }\r\n\r\n}\r\n","import React from \"react\";\r\nimport {Select, Tooltip} from \"antd\";\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\n\r\nconst { Option } = Select;\r\n\r\nexport const Titles = () => {\r\n\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n\r\n    const handleChange = (value : string) => {\r\n        setStyles(range, 'fontSize', value)\r\n    }\r\n\r\n    return (\r\n        <Tooltip title=\"Стили\" placement=\"top\">\r\n            <Select\r\n                defaultValue=\"Заголовок 1\"\r\n                style={{width : '120px'}}\r\n                dropdownStyle={ { minWidth : '250px'} }\r\n                onChange={handleChange}\r\n            >\r\n                <Option style={{fontSize : '32px', height : '55px', padding : '10px', borderBottom : '1px solid #d9d9d9' }} value=\"6\">Заголовок 1 </Option>\r\n                <Option style={{fontSize : '24px', height : '55px', padding : '10px', borderBottom : '1px solid #d9d9d9' }} value=\"5\">Заголовок 2 </Option>\r\n                <Option style={{fontSize : '16px', height : '55px', padding : '10px', borderBottom : '1px solid #d9d9d9' }} value=\"4\">Заголовок 3 </Option>\r\n            </Select>\r\n        </Tooltip>\r\n    )\r\n}","import React from \"react\";\r\nimport {Select, Tooltip} from \"antd\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\nimport {emitter} from \"../../../core/emitter\";\r\n\r\nconst { Option } = Select;\r\n\r\nexport const Fonts = () => {\r\n\r\n    const [activeFont, setFont] = React.useState('Roboto')\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n\r\n    const fonts = ['Roboto', 'Montserrat', 'Noto Sans', 'Open Sans', 'Fira Sans']\r\n\r\n    React.useEffect(() => {\r\n        emitter.on('FONT_FAMILY', FONT_FAMILY => setFont(FONT_FAMILY))\r\n    }, [])\r\n\r\n\r\n    const handleChange = (value : string) => {\r\n        setFont(value)\r\n        setStyles(range, 'fontName', value + ', sans-serif')\r\n    }\r\n\r\n    const handleClick = () => {\r\n       // document.body.style.overflowY = 'hidden'\r\n    }\r\n\r\n    return (\r\n        <Tooltip title=\"Шрифт\" placement=\"top\">\r\n            <Select\r\n                value={activeFont}\r\n                style={{width : '110px'}}\r\n                dropdownStyle={ { minWidth : '150px'} }\r\n                onChange={handleChange}\r\n                onClick={handleClick}\r\n            >\r\n                { fonts.map(item => {\r\n                    return <Option\r\n                        key={item}\r\n                        style={{fontFamily : `${item}, sans-serif`}}\r\n                        value={item}\r\n                    >\r\n                        {item}\r\n                    </Option>\r\n                }) }\r\n            </Select>\r\n        </Tooltip>\r\n    )\r\n}","import React from \"react\";\r\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\r\nimport FormatAlignRightIcon from '@material-ui/icons/FormatAlignRight';\r\nimport FormatAlignJustifyIcon from '@material-ui/icons/FormatAlignJustify';\r\nimport {Tooltip} from \"antd\";\r\nimport {defaultPageStyle} from \"../../../redux/documentRecuder/docReducer\";\r\nimport {emitter} from \"../../../core/emitter\";\r\n\r\n\r\nconst { textAlign : textAlignDef } = defaultPageStyle\r\n\r\nexport const TextAlignment = () => {\r\n\r\n    const [textAlign, setTextAlign] = React.useState(textAlignDef)\r\n\r\n    React.useEffect(() => {\r\n        emitter.on('TEXT_ALIGN', TEXT_ALIGN => setTextAlign(TEXT_ALIGN))\r\n    }, [])\r\n\r\n    const changeTextAlign = (pos : string) => {\r\n        setTextAlign(pos)\r\n\r\n        if (pos === 'center') document.execCommand('justifyCenter')\r\n        else if (pos === 'right') document.execCommand('justifyRight')\r\n        else document.execCommand('justifyLeft')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Tooltip title=\"Выравнивание по левому краю\" placement=\"top\">\r\n                <FormatAlignLeftIcon\r\n                    onClick={() => changeTextAlign('left')}\r\n                    style={{\r\n                        marginRight : '8px',\r\n                        padding : textAlign === 'left' ? '2px' : '',\r\n                        backgroundColor : textAlign === 'left' ? 'rgb(232, 240, 254)' : '',\r\n                        color : textAlign === 'left' ? 'rgb(26, 115, 232)' : '',\r\n                        borderRadius : '2px'\r\n                    }}\r\n                />\r\n            </Tooltip>\r\n\r\n            <Tooltip title=\"Выравнивание по центру\" placement=\"top\">\r\n                <FormatAlignJustifyIcon\r\n                    onClick={() => changeTextAlign('center')}\r\n                    style={{\r\n                        marginRight : '8px',\r\n                        padding : textAlign === 'center' ? '2px' : '',\r\n                        backgroundColor : textAlign === 'center' ? 'rgb(232, 240, 254)' : '',\r\n                        color : textAlign === 'center' ? 'rgb(26, 115, 232)' : '',\r\n                        borderRadius : '2px'\r\n                    }}\r\n                />\r\n            </Tooltip>\r\n\r\n            <Tooltip title=\"Выравнивание по правому краю\" placement=\"top\">\r\n                <FormatAlignRightIcon\r\n                    onClick={() => changeTextAlign('right')}\r\n                    style={{\r\n                        marginRight : '8px',\r\n                        padding : textAlign === 'right' ? '2px' : '',\r\n                        backgroundColor : textAlign === 'right' ? 'rgb(232, 240, 254)' : '',\r\n                        color : textAlign === 'right' ? 'rgb(26, 115, 232)' : '',\r\n                        borderRadius : '2px'\r\n                    }}\r\n                />\r\n            </Tooltip>\r\n\r\n        </>\r\n    )\r\n}","import React from \"react\";\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport {Grid } from \"@material-ui/core\";\r\nimport {Tooltip, notification} from \"antd\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\n\r\n\r\nconst openNotification = () => {\r\n    const args = {\r\n        message: 'Ошибка',\r\n        description:\r\n            'Загружаемый файл должен быть формата PNG, JPEG, JPG, SVG, GIF, WEBP',\r\n        duration: 0,\r\n    };\r\n    notification.open(args);\r\n};\r\n\r\nexport const LoadImage = () => {\r\n\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const [anchorEl, setAnchorEl] = React.useState<any>(null);\r\n    const [validImage, setValidImage] = React.useState(false);\r\n\r\n    const handleClick = (event : React.MouseEvent) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    React.useEffect(() => setValidImage(false), [validImage])\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleLoadImage = ( e : React.ChangeEvent ) => {\r\n\r\n        const reader = new FileReader()\r\n\r\n        const target = e.target as HTMLInputElement\r\n        const image = target.files![0]\r\n\r\n        const textImage = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i\r\n\r\n        if( textImage.test(image.name) ) {\r\n\r\n            reader.onload = () => {\r\n\r\n                const createImageDiv = `\r\n                   <div>\r\n                       <div style=\"min-height: 20px\">...</div>\r\n                       <div\r\n                             contenteditable=\"false\"\r\n                             class=\"image unselectable\" \r\n                             style=\"background-image: url(${reader.result})\"\r\n                             > \r\n                                <div style=\"cursor: ew-resize\" data-rightCenter=\"rightCenter\"></div>\r\n                                <div style=\"cursor: nwse-resize\" data-rightBottom=\"rightBottom\"></div>\r\n                                <div style=\"cursor: ns-resize\" data-bottomCenter=\"bottomCenter\"></div>\r\n                                <div style=\"cursor: ew-resize\" data-leftCenter=\"leftCenter\"></div>\r\n                        </div>\r\n                        <div style=\"min-height: 20px; overflow: hidden;\" >...</div>\r\n                 </div>\r\n                `\r\n\r\n                setStyles(range, 'insertHTML', createImageDiv)\r\n                target.value = ''\r\n            }\r\n\r\n            reader.readAsDataURL(image)\r\n        }\r\n        else {\r\n            setValidImage(true)\r\n        }\r\n    }\r\n\r\n    return (<>\r\n        <Tooltip title=\"Загрузить изображение\" placement=\"top\">\r\n            <Box onClick={handleClick}\r\n            >\r\n                <ImageIcon />\r\n                <ArrowDropDownIcon\r\n                    style={{marginLeft : '-5px'}}\r\n                />\r\n            </Box>\r\n\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n                style={{top : '40px'}}\r\n            >\r\n                <MenuItem\r\n                    onClick={handleClose}\r\n                    style={{padding : '5px 10px'}}\r\n                >\r\n\r\n                    <input\r\n                        accept=\"image/*\"\r\n                        id=\"fileImage\"\r\n                        name=\"fileImage\"\r\n                        onChange={handleLoadImage}\r\n                        multiple\r\n                        type=\"file\"\r\n                        style={{display : 'none'}}\r\n                    />\r\n                    <label htmlFor=\"fileImage\">\r\n                        <Grid\r\n                            container\r\n                            alignItems=\"center\"\r\n                            style={{\r\n                                cursor : 'pointer',\r\n                                fontSize : '15px'\r\n                            }}\r\n                        >\r\n                            <PublishIcon style={{marginRight : '5px', color : 'gray'}} />\r\n                            Загрузить изображание\r\n                        </Grid>\r\n                    </label>\r\n\r\n                </MenuItem>\r\n            </Menu>\r\n        </Tooltip>\r\n        {validImage && openNotification()}\r\n    </>)\r\n}","import React from \"react\";\r\nimport FormatLineSpacingIcon from '@material-ui/icons/FormatLineSpacing';\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {Tooltip} from \"antd\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {LINE_HEIGHT_ACTION} from \"../../../redux/documentRecuder/docAction\";\r\n\r\nexport const LineHeight = () => {\r\n\r\n    const lineSpacing = [1, 1.15, 1.25, 1.40, 1.5, 2]\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState<any>(null);\r\n    const dispatch = useDispatch()\r\n\r\n    const handleChange = (lineHeight : number) => {\r\n        dispatch(LINE_HEIGHT_ACTION(lineHeight))\r\n    }\r\n\r\n    const handleClick = (event : React.MouseEvent) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <Tooltip title=\"Межстрочный интервал\" placement=\"top\">\r\n            <FormatLineSpacingIcon onClick={handleClick} />\r\n\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n                style={{top : '40px' }}\r\n            >\r\n                {lineSpacing.map( (item,index) => {\r\n                   return <MenuItem\r\n                       onClick={() =>{\r\n                           handleClose()\r\n                           handleChange(item)\r\n                       }}\r\n                       style={{padding : '5px 10px', minWidth : '50px'}}\r\n                       key={item + index}\r\n                   >\r\n                       {item}\r\n                   </MenuItem>\r\n                })}\r\n            </Menu>\r\n    </Tooltip>\r\n    )\r\n}","import React from \"react\";\r\nimport {Tooltip} from \"antd\";\r\nimport FormatBoldIcon from \"@material-ui/icons/FormatBold\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {defaultPageStyle} from \"../../../redux/documentRecuder/docReducer\";\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\nimport {emitter} from \"../../../core/emitter\";\r\n\r\nconst { fontWeight } = defaultPageStyle\r\n\r\nexport const FontWeight = () => {\r\n\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const [boldActive, setBold] = React.useState(fontWeight)\r\n\r\n\r\n    React.useEffect(() => {\r\n        emitter.on('FONT_WEIGHT', FONT_WEIGHT => setBold(FONT_WEIGHT))\r\n    }, [])\r\n\r\n    const boldHandler = () => {\r\n        setBold(boldActive === '400' ? '700' : '400')\r\n        setStyles(range, 'bold')\r\n    }\r\n\r\n    return (\r\n\r\n        <Tooltip title=\"Полужирный\" placement=\"top\">\r\n            <FormatBoldIcon\r\n                onClick={boldHandler}\r\n                style={{\r\n                    marginRight : '8px',\r\n                    backgroundColor : boldActive === '700' ? 'rgb(232, 240, 254)' : '',\r\n                    color : boldActive === '700' ? 'rgb(26, 115, 232)' : '',\r\n                    borderRadius : '2px'\r\n                }}\r\n            />\r\n        </Tooltip>\r\n    )\r\n}","import React from \"react\";\r\nimport {Tooltip} from \"antd\";\r\nimport FormatItalicIcon from \"@material-ui/icons/FormatItalic\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {defaultPageStyle} from \"../../../redux/documentRecuder/docReducer\";\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\nimport {emitter} from \"../../../core/emitter\";\r\n\r\n\r\nconst { fontStyle } = defaultPageStyle\r\n\r\nexport const FontStyle = () => {\r\n\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const [italicActive, setItalic] = React.useState(fontStyle)\r\n\r\n    React.useEffect(() => {\r\n        emitter.on('FONT_STYLE', FONT_STYLE => setItalic(FONT_STYLE))\r\n    }, [])\r\n\r\n\r\n    const italicHandler = () => {\r\n        setItalic(italicActive === 'normal' ? 'italic' : 'normal')\r\n        setStyles(range, 'italic')\r\n    }\r\n\r\n    return (\r\n        <Tooltip title=\"Курсивный\" placement=\"top\">\r\n            <FormatItalicIcon\r\n                onClick={italicHandler}\r\n                style={{\r\n                    marginRight : '8px',\r\n                    backgroundColor : italicActive === 'italic' ? 'rgb(232, 240, 254)' : '',\r\n                    color : italicActive === 'italic' ? 'rgb(26, 115, 232)' : '',\r\n                    borderRadius : '2px'\r\n                }} />\r\n        </Tooltip>\r\n    )\r\n}","import React from \"react\";\r\nimport {Tooltip} from \"antd\";\r\nimport FormatUnderlinedIcon from \"@material-ui/icons/FormatUnderlined\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {defaultPageStyle} from \"../../../redux/documentRecuder/docReducer\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\nimport {emitter} from \"../../../core/emitter\";\r\n\r\n\r\nconst { underline } = defaultPageStyle\r\n\r\nexport const Underline = () => {\r\n\r\n    const [underlined, setUnderlined] = React.useState(underline)\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n\r\n\r\n    React.useEffect(() => {\r\n        emitter.on('UNDERLINE', TEXT_DECORATION => setUnderlined(TEXT_DECORATION))\r\n    }, [])\r\n\r\n\r\n    const underlinedHandler = () => {\r\n        setUnderlined(underlined === 'underline' ? 'none' : 'underline')\r\n        setStyles(range, 'underline')\r\n    }\r\n\r\n    return (\r\n        <Tooltip title=\"Подчеркнутый\" placement=\"top\">\r\n            <FormatUnderlinedIcon\r\n                onClick={underlinedHandler}\r\n                style={{\r\n                    marginRight : '8px',\r\n                    backgroundColor : underlined === 'underline' ? 'rgb(232, 240, 254)' : '',\r\n                    color : underlined === 'underline' ? 'rgb(26, 115, 232)' : '',\r\n                    borderRadius : '2px'\r\n                }}\r\n            />\r\n        </Tooltip>\r\n    )\r\n}","import React from \"react\";\r\nimport {Popover, Tooltip} from \"antd\";\r\nimport {CompactPicker} from \"react-color\";\r\nimport FormatColorTextIcon from \"@material-ui/icons/FormatColorText\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {defaultPageStyle} from \"../../../redux/documentRecuder/docReducer\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\nimport {emitter} from \"../../../core/emitter\";\r\n\r\n\r\nconst { color : colorDef } = defaultPageStyle\r\n\r\nexport const Color = () => {\r\n\r\n    const [activePopupColor, setPopupColor] = React.useState(false)\r\n    const [color, setColor] = React.useState(colorDef)\r\n    const $color = React.useRef<SVGSVGElement>(null)\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n\r\n    React.useEffect(() => {\r\n\r\n        const svgColorText = $color.current!.children[0] as HTMLElement\r\n        svgColorText.style.color = color\r\n        svgColorText.style.fillOpacity = '1'\r\n\r\n    }, [color])\r\n\r\n\r\n    React.useEffect(() => {\r\n        emitter.on('COLOR', COLOR => setColor(COLOR))\r\n    }, [])\r\n\r\n\r\n    const handleSetColor = (color : { hex : string }) => {\r\n       setColor(color.hex)\r\n       setStyles(range, 'foreColor', color.hex)\r\n    }\r\n\r\n\r\n    const handleChangePopupColor = () => {\r\n        setPopupColor(activePopupColor === false ? true : false)\r\n    }\r\n\r\n    return (\r\n        <Tooltip title=\"Цвет текста\" placement=\"top\">\r\n\r\n            <Popover\r\n                trigger=\"click\"\r\n                visible={activePopupColor}\r\n                onVisibleChange={handleChangePopupColor}\r\n                content={\r\n                    <CompactPicker color=\"#fff\" onChange={handleSetColor}/>\r\n                }\r\n            >\r\n                <FormatColorTextIcon ref={$color} style={{marginRight : '8px'}}/>\r\n            </Popover>\r\n\r\n        </Tooltip>\r\n    )\r\n}","import React from \"react\";\r\nimport {Popover, Tooltip} from \"antd\";\r\nimport {CompactPicker} from \"react-color\";\r\nimport FormatColorFillIcon from \"@material-ui/icons/FormatColorFill\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {defaultPageStyle} from \"../../../redux/documentRecuder/docReducer\";\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\nimport {emitter} from \"../../../core/emitter\";\r\n\r\n\r\nconst { bg } = defaultPageStyle\r\n\r\nexport const BackgroundColor = () => {\r\n\r\n    const [activePopupBackgroundColor, setPopupBackgroundColor] = React.useState(false)\r\n    const [getBackgroundColor, setBackgroundColor] = React.useState(bg)\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const $backgroundColor = React.useRef<SVGSVGElement>(null)\r\n\r\n    React.useEffect(() => {\r\n\r\n        const svgBackgroundColor = $backgroundColor.current!.children[1] as HTMLElement\r\n        svgBackgroundColor.style.color = getBackgroundColor\r\n        svgBackgroundColor.style.fillOpacity = '1'\r\n\r\n    }, [getBackgroundColor])\r\n\r\n\r\n    React.useEffect(() => {\r\n        emitter.on('BACKGROUND_COLOR', bg => setBackgroundColor(bg))\r\n    }, [])\r\n\r\n\r\n    const handleSetBackgroundColor = (color : {hex : string}) => {\r\n        setBackgroundColor(color.hex)\r\n        setStyles(range, 'backColor', color.hex)\r\n    }\r\n\r\n\r\n    const handleChangePopupBackgroundColor = () => {\r\n        setPopupBackgroundColor(activePopupBackgroundColor === false ? true : false)\r\n    }\r\n\r\n    return (\r\n        <Tooltip title=\"Цвет текста фон\" placement=\"top\">\r\n\r\n            <Popover\r\n                trigger=\"click\"\r\n                visible={activePopupBackgroundColor}\r\n                onVisibleChange={handleChangePopupBackgroundColor}\r\n                content={\r\n                    <CompactPicker color=\"#fff\" onChange={handleSetBackgroundColor}/>\r\n                }\r\n            >\r\n                <FormatColorFillIcon ref={$backgroundColor} style={{marginRight : '8px'}} />\r\n            </Popover>\r\n\r\n        </Tooltip>\r\n    )\r\n}","import React from \"react\";\r\nimport ReactToPrint from \"react-to-print\";\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport {useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {Tooltip} from \"antd\";\r\n\r\nexport const Print = () => {\r\n\r\n    const { linkPrintDom, page } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const [pagePadding, setPrintPage] = React.useState('')\r\n\r\n    React.useEffect(() => {\r\n\r\n        const printPagePadding = `\r\n              @page {\r\n                 margin-top : ${page.paddingTop}px;\r\n                 margin-right : ${page.paddingRight}px;\r\n                 margin-left : ${page.paddingLeft}px;\r\n                 margin-bottom : ${page.paddingBottom}px;\r\n              }\r\n        `\r\n        setPrintPage(printPagePadding)\r\n\r\n    }, [page.paddingBottom, page.paddingTop, page.paddingRight, page.paddingLeft])\r\n\r\n    return (<>\r\n\r\n        <style\r\n            type=\"text/css\"\r\n            dangerouslySetInnerHTML={{__html : pagePadding}}\r\n        />\r\n\r\n        <ReactToPrint\r\n            trigger={() => {\r\n                return <Tooltip title=\"Печатать\" placement=\"top\">\r\n                    <PrintIcon />\r\n                </Tooltip>\r\n\r\n            }}\r\n            content={() => linkPrintDom}\r\n        />\r\n\r\n    </>)\r\n}","import React from \"react\";\r\nimport {Select, Tooltip} from \"antd\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\nimport {emitter} from \"../../../core/emitter\";\r\nimport {defaultPageStyle} from \"../../../redux/documentRecuder/docReducer\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst { fontSize } = defaultPageStyle\r\n\r\nexport const FontSize = () => {\r\n\r\n    const [activeFont, setFont] = React.useState(fontSize)\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n\r\n    React.useEffect(() => {\r\n        emitter.on('FONT_SIZE', FONT_SIZE => setFont(FONT_SIZE))\r\n    }, [])\r\n\r\n    const eventChange = (value : string) => {\r\n        setFont(value)\r\n        setStyles(range, 'fontSize', value)\r\n    }\r\n\r\n    return (\r\n        <Tooltip title=\"Размер шрифта\" placement=\"top\">\r\n            <Select\r\n                onChange={eventChange}\r\n                value={activeFont}\r\n                style={{width : '60px'}}\r\n            >\r\n                <Option value=\"1\">10</Option>\r\n                <Option value=\"2\">13</Option>\r\n                <Option value=\"3\">16</Option>\r\n                <Option value=\"4\">18</Option>\r\n                <Option value=\"5\">24</Option>\r\n                <Option value=\"6\">32</Option>\r\n                <Option value=\"7\">48</Option>\r\n            </Select>\r\n        </Tooltip>\r\n    )\r\n}","import React from \"react\";\r\nimport {Tooltip} from \"antd\";\r\nimport FormatAlignLeftIcon from \"@material-ui/icons/FormatAlignLeft\";\r\nimport FormatAlignJustifyIcon from \"@material-ui/icons/FormatAlignJustify\";\r\nimport FormatAlignRightIcon from \"@material-ui/icons/FormatAlignRight\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {emitter} from \"../../../core/emitter\";\r\nimport {PAGE_INNER_HTML_ACTION} from \"../../../redux/documentRecuder/docAction\";\r\n\r\nexport const ImageAlign = () => {\r\n\r\n    const { divPage } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const [align, setAlign] = React.useState('left')\r\n    const dispatch = useDispatch()\r\n\r\n    React.useEffect(() => {\r\n        emitter.on('IMAGE__SIDE', side => setAlign(side))\r\n    }, [])\r\n\r\n    const changeAlign = (side : string) => {\r\n\r\n        setAlign(side)\r\n\r\n        const $page = divPage! as HTMLDivElement\r\n        const div = $page.children[0]\r\n        const activeImage = div.querySelector('.activeImage') as HTMLDivElement\r\n\r\n        activeImage.style.float = 'none'\r\n        emitter.emit('FLOAT', 'none')\r\n\r\n        if ( side === 'left' ) {\r\n            activeImage.style.marginRight = 'auto'\r\n            activeImage.style.marginLeft = '0'\r\n        }\r\n        else if ( side === 'center' ) {\r\n            activeImage.style.marginRight = 'auto'\r\n            activeImage.style.marginLeft = 'auto'\r\n        }\r\n        else if ( side === 'right' ){\r\n            activeImage.style.marginRight = '0'\r\n            activeImage.style.marginLeft = 'auto'\r\n        }\r\n\r\n        dispatch(PAGE_INNER_HTML_ACTION(div.innerHTML))\r\n    }\r\n\r\n    return (<>\r\n        <Tooltip title=\"Выравнивание по левому краю\" placement=\"top\">\r\n            <FormatAlignLeftIcon\r\n                onClick={() => changeAlign('left')}\r\n                style={{\r\n                    marginRight : '8px',\r\n                    padding : align === 'left' ? '2px' : '',\r\n                    backgroundColor : align === 'left' ? 'rgb(232, 240, 254)' : '',\r\n                    color : align === 'left' ? 'rgb(26, 115, 232)' : '',\r\n                    borderRadius : '2px'\r\n                }}\r\n            />\r\n        </Tooltip>\r\n\r\n        <Tooltip title=\"Выравнивание по центру\" placement=\"top\">\r\n            <FormatAlignJustifyIcon\r\n                onClick={() => changeAlign('center')}\r\n                style={{\r\n                    marginRight : '8px',\r\n                    padding : align === 'center' ? '2px' : '',\r\n                    backgroundColor : align === 'center' ? 'rgb(232, 240, 254)' : '',\r\n                    color : align === 'center' ? 'rgb(26, 115, 232)' : '',\r\n                    borderRadius : '2px'\r\n                }}\r\n            />\r\n        </Tooltip>\r\n\r\n        <Tooltip title=\"Выравнивание по правому краю\" placement=\"top\">\r\n            <FormatAlignRightIcon\r\n                onClick={() => changeAlign('right')}\r\n                style={{\r\n                    marginRight : '8px',\r\n                    padding : align === 'right' ? '2px' : '',\r\n                    backgroundColor : align === 'right' ? 'rgb(232, 240, 254)' : '',\r\n                    color : align === 'right' ? 'rgb(26, 115, 232)' : '',\r\n                    borderRadius : '2px'\r\n                }}\r\n            />\r\n        </Tooltip>\r\n    </>)\r\n}","import React from \"react\";\r\nimport ArtTrackIcon from '@material-ui/icons/ArtTrack';\r\nimport {Tooltip} from \"antd\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport BackspaceIcon from '@material-ui/icons/Backspace';\r\nimport {emitter} from \"../../../core/emitter\";\r\nimport {PAGE_INNER_HTML_ACTION} from \"../../../redux/documentRecuder/docAction\";\r\n\r\nexport const Float = () => {\r\n\r\n    const { divPage } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const [float, setFloat] = React.useState('')\r\n    const dispatch = useDispatch()\r\n\r\n    React.useEffect(() => {\r\n        emitter.on('FLOAT', currentFloat => setFloat(currentFloat))\r\n    }, [])\r\n\r\n    const changeFloat = (value : string) => {\r\n\r\n        setFloat(value)\r\n\r\n        const $page = divPage! as HTMLDivElement\r\n        const div = $page.children[0]\r\n        const activeImage = div.querySelector('.activeImage') as HTMLDivElement\r\n\r\n        if ( value === 'left' ) {\r\n            activeImage.style.marginRight = '8px'\r\n            activeImage.style.marginLeft = '0'\r\n            activeImage.style.float = 'left'\r\n            emitter.emit('IMAGE__SIDE', 'left')\r\n        }\r\n        else if ( value === 'right' ){\r\n            activeImage.style.marginLeft = '8px'\r\n            activeImage.style.marginRight = '0'\r\n            activeImage.style.float = 'right'\r\n            emitter.emit('IMAGE__SIDE', 'right')\r\n        }\r\n        else {\r\n            activeImage.style.float = 'none'\r\n            activeImage.style.marginRight = 'auto'\r\n            activeImage.style.marginLeft = '0'\r\n            emitter.emit('IMAGE__SIDE', 'left')\r\n        }\r\n\r\n        dispatch(PAGE_INNER_HTML_ACTION(div.innerHTML))\r\n    }\r\n\r\n    return (<>\r\n        <Tooltip title=\"Обтекание по правому краю\" placement=\"top\">\r\n            <ArtTrackIcon\r\n                onClick={() => changeFloat('left')}\r\n                style={{\r\n                    marginRight: '14px',\r\n                    transform: 'scale(1.2)',\r\n                    backgroundColor : float === 'left' ? 'rgb(232, 240, 254)' : '',\r\n                    color : float === 'left' ? 'rgb(26, 115, 232)' : '',\r\n            }} />\r\n        </Tooltip>\r\n\r\n        <Tooltip title=\"Обтекание по левому краю\" placement=\"top\">\r\n            <ArtTrackIcon\r\n                onClick={() => changeFloat('right')}\r\n                style={{\r\n                    marginRight: '8px',\r\n                    transform: 'scale(1.2) rotate(-180deg)',\r\n                    backgroundColor : float === 'right' ? 'rgb(232, 240, 254)' : '',\r\n                    color : float === 'right' ? 'rgb(26, 115, 232)' : '',\r\n            }} />\r\n        </Tooltip>\r\n\r\n        <Tooltip title=\"Удалить обтекание\" placement=\"top\">\r\n            <BackspaceIcon\r\n                style={{transform: 'scale(0.8)'}}\r\n                onClick={() => changeFloat('none')}\r\n            />\r\n        </Tooltip>\r\n    </>)\r\n}\r\n","import React from \"react\";\r\nimport StrikethroughSIcon from '@material-ui/icons/StrikethroughS';\r\nimport {useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {emitter} from \"../../../core/emitter\";\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\nimport {defaultPageStyle} from \"../../../redux/documentRecuder/docReducer\";\r\nimport {Tooltip} from \"antd\";\r\n\r\n\r\nconst { lineThrough } = defaultPageStyle\r\n\r\nexport const Strikethrough = () => {\r\n\r\n    const [strikethrough, setStrikethrough] = React.useState(lineThrough)\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n\r\n\r\n    React.useEffect(() => {\r\n        emitter.on('STRIKETHROUGH', strikethrough => setStrikethrough(strikethrough))\r\n    }, [])\r\n\r\n\r\n    const handleChange = () => {\r\n        setStrikethrough(strikethrough === 'line-through' ? 'none' : 'line-through')\r\n        setStyles(range, 'strikeThrough')\r\n    }\r\n\r\n    return (\r\n        <Tooltip title=\"Зачеркнутый\" placement=\"top\">\r\n\r\n            <StrikethroughSIcon\r\n                onClick={handleChange}\r\n                style={{\r\n                    marginRight : '8px',\r\n                    backgroundColor : strikethrough === 'line-through' ? 'rgb(232, 240, 254)' : '',\r\n                    color : strikethrough === 'line-through' ? 'rgb(26, 115, 232)' : '',\r\n                    borderRadius : '2px'\r\n                }}\r\n            />\r\n\r\n        </Tooltip>\r\n    )\r\n}","import React from \"react\";\r\nimport FormatListBulletedIcon from '@material-ui/icons/FormatListBulleted';\r\nimport FormatListNumberedIcon from '@material-ui/icons/FormatListNumbered';\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\nimport {emitter} from \"../../../core/emitter\";\r\nimport {Tooltip} from \"antd\";\r\n\r\nexport const List = () => {\r\n\r\n    const [list, setList] = React.useState('')\r\n    const [listNum, setListNum] = React.useState('')\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n\r\n\r\n    React.useEffect(() => {\r\n\r\n        emitter.on('LIST', listName => {\r\n            if (listName === 'ul') {\r\n                setList(listName)\r\n            }\r\n            else if (listName === 'ol') {\r\n                setListNum(listName)\r\n            }\r\n            else {\r\n                setList('')\r\n                setListNum('')\r\n            }\r\n        })\r\n\r\n    }, [])\r\n\r\n\r\n    const handleChange = (value : string) => {\r\n\r\n        if(value === 'ul') {\r\n            setStyles(range, 'insertUnorderedList')\r\n\r\n            setList(list === 'ul' ? '' : 'ul')\r\n            setListNum('')\r\n        }\r\n        else {\r\n            setStyles(range, 'insertOrderedList')\r\n\r\n            setListNum(listNum === 'ol' ? '' : 'ol')\r\n            setList('')\r\n        }\r\n    }\r\n\r\n    return (<>\r\n\r\n        <Tooltip title=\"Маркированный список\" placement=\"top\">\r\n            <FormatListBulletedIcon\r\n                onClick={e => handleChange('ul')}\r\n                style={{\r\n                    marginRight : '8px',\r\n                    backgroundColor : list === 'ul' ? 'rgb(232, 240, 254)' : '',\r\n                    color : list === 'ul' ? 'rgb(26, 115, 232)' : '',\r\n                    borderRadius : '2px'\r\n                }}\r\n            />\r\n        </Tooltip>\r\n\r\n        <Tooltip title=\"Нумерованный список\" placement=\"top\">\r\n            <FormatListNumberedIcon\r\n                onClick={ e => handleChange('ol')}\r\n                style={{\r\n                    marginRight : '8px',\r\n                    backgroundColor : listNum === 'ol' ? 'rgb(232, 240, 254)' : '',\r\n                    color : listNum === 'ol' ? 'rgb(26, 115, 232)' : '',\r\n                    borderRadius : '2px'\r\n                }}\r\n            />\r\n        </Tooltip>\r\n    </>)\r\n}","import React from \"react\";\r\nimport FormatIndentDecreaseIcon from '@material-ui/icons/FormatIndentDecrease';\r\nimport FormatIndentIncreaseIcon from '@material-ui/icons/FormatIndentIncrease';\r\nimport {Tooltip} from \"antd\";\r\nimport {setStyles} from \"../mainBlock.components/page/page.functions\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../redux/store\";\r\n\r\n\r\nexport const Indents = () => {\r\n\r\n    const { range } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n\r\n    const handleChange = (value : string) => {\r\n        if( value === '+' ) {\r\n            setStyles(range, 'indent')\r\n        }\r\n        else {\r\n            setStyles(range, 'outdent')\r\n        }\r\n    }\r\n\r\n    return (<>\r\n        <Tooltip title=\"Уменьшить отступ\" placement=\"top\">\r\n            <FormatIndentDecreaseIcon\r\n                onClick={e => handleChange('-')}\r\n                style={{marginRight : '8px'}}\r\n            />\r\n        </Tooltip>\r\n\r\n        <Tooltip title=\"Увеличить отступ\" placement=\"top\">\r\n            <FormatIndentIncreaseIcon\r\n                onClick={e => handleChange('+')}\r\n            />\r\n        </Tooltip>\r\n    </>)\r\n}","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Box} from \"@material-ui/core\";\r\nimport {Titles} from \"./toolbar.components/Titles\";\r\nimport {Fonts} from \"./toolbar.components/Fonts\";\r\nimport {TextAlignment} from \"./toolbar.components/TextAlignment\";\r\nimport {LoadImage} from \"./toolbar.components/LoadImage\";\r\nimport {LineHeight} from \"./toolbar.components/LineHeight\";\r\nimport {FontWeight} from \"./toolbar.components/FontWeight\";\r\nimport {FontStyle} from \"./toolbar.components/FontStyle\";\r\nimport {Underline} from \"./toolbar.components/Underline\";\r\nimport {Color} from \"./toolbar.components/Color\";\r\nimport {BackgroundColor} from \"./toolbar.components/BackgroundColor\";\r\nimport {Print} from \"./toolbar.components/Print\";\r\nimport {FontSize} from \"./toolbar.components/FontSize\";\r\nimport {ImageAlign} from \"./toolbar.components/ImageAlign\";\r\nimport {Float} from \"./toolbar.components/Float\";\r\nimport {docReducerTYPE} from \"../../redux/store\";\r\nimport {Strikethrough} from \"./toolbar.components/Strikethrough\";\r\nimport {List} from \"./toolbar.components/List\";\r\nimport { Indents } from \"./toolbar.components/Indents\";\r\n\r\n\r\nexport const Toolbar = () => {\r\n\r\n    const { image } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n\r\n    return (\r\n        <menu style={{\r\n              padding : '10px 20px',\r\n              minHeight : '55px',\r\n              backgroundColor : '#fff',\r\n              display : 'flex',\r\n              alignItems: \"center\",\r\n        }}>\r\n\r\n             <Box style={{ padding : '0 10px', borderRight : '1px solid #696969', cursor : 'pointer'}} >\r\n                 <Print />\r\n             </Box>\r\n\r\n             <div style={{\r\n                    display : !image ? 'flex' : 'none',\r\n                    alignItems: \"center\",\r\n                }}>\r\n\r\n                 <Box style={{ padding : '0 10px', borderRight : '1px solid #696969'}} >\r\n                     <Titles />\r\n                 </Box>\r\n\r\n                 <Box style={{ padding : '0 10px', borderRight : '1px solid #696969'}} >\r\n                     <Fonts />\r\n                 </Box>\r\n\r\n                 <Box style={{ padding : '0 10px', borderRight : '1px solid #696969'}} >\r\n                     <FontSize />\r\n                 </Box>\r\n\r\n                 <Box style={{ padding : '0 10px', borderRight : '1px solid #696969', cursor : 'pointer'}} >\r\n                     <FontWeight />\r\n                     <FontStyle />\r\n                     <Underline />\r\n                     <Strikethrough />\r\n                     <Color />\r\n                     <BackgroundColor />\r\n                 </Box>\r\n\r\n                 <Box style={{ padding : '0 10px', borderRight : '1px solid #696969', cursor : 'pointer'}} >\r\n                     <TextAlignment />\r\n                 </Box>\r\n\r\n                 <Box style={{ padding : '0 10px', borderRight : '1px solid #696969', cursor : 'pointer'}} >\r\n                     <LoadImage />\r\n                 </Box>\r\n\r\n                 <Box style={{ padding : '0 10px', borderRight : '1px solid #696969', cursor : 'pointer'}} >\r\n                     <LineHeight />\r\n                 </Box>\r\n\r\n                 <Box style={{ padding : '0 10px', borderRight : '1px solid #696969', cursor : 'pointer'}} >\r\n                     <List />\r\n                 </Box>\r\n\r\n                 <Box style={{ padding : '0 10px', borderRight : '1px solid #696969', cursor : 'pointer'}} >\r\n                     <Indents />\r\n                 </Box>\r\n\r\n             </div>\r\n\r\n             <div style={{\r\n                     display : image ? 'flex' : 'none',\r\n                     alignItems: \"center\",\r\n             }}>\r\n\r\n                 <Box style={{ padding : '0 10px', borderRight : '1px solid #696969', cursor : 'pointer'}} >\r\n                    <ImageAlign />\r\n                 </Box>\r\n\r\n                 <Box style={{ padding : '0 10px', borderRight : '1px solid #696969', cursor : 'pointer'}} >\r\n                     <Float />\r\n                 </Box>\r\n\r\n             </div>\r\n    </menu>)\r\n}","import React from \"react\";\r\nimport {Box} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../../redux/store\";\r\nimport {\r\n    PADDING_LEFT_ACTION,\r\n    PADDING_RIGHT_ACTION\r\n} from \"../../../../redux/documentRecuder/docAction\";\r\nimport { handleMouseLeftSlide, handleMouseRightSlide } from \"./header.funtion\";\r\nimport {widthPage} from \"../page/Page\";\r\n\r\nexport const Header = () => {\r\n\r\n    const { page } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const rightSlide = React.useRef(null)\r\n    const leftSlide = React.useRef(null)\r\n    const dispatch = useDispatch()\r\n\r\n    const dispatchCallback = (side : string, width : number) => {\r\n        if(side === 'left') dispatch(PADDING_LEFT_ACTION(width))\r\n        else dispatch(PADDING_RIGHT_ACTION(width))\r\n    }\r\n\r\n    return (\r\n        <Box style={{\r\n            height : 15,\r\n            backgroundColor : '#e1e1e1',\r\n            borderBottom : '1px solid #000',\r\n            borderTop : '1px solid #000',\r\n        }}>\r\n            <div\r\n                style={{\r\n                    display : \"flex\",\r\n                    justifyContent : 'space-between',\r\n                    position: \"relative\",\r\n                    height : '100%',\r\n                    width : widthPage,\r\n                    margin : '0 auto',\r\n                    backgroundColor : '#ffffff'\r\n                }}\r\n            >\r\n                <Box\r\n                    style={{\r\n                        position: \"relative\",\r\n                        display : 'inline-block'\r\n                    }}\r\n                >\r\n                    <div\r\n                        ref={leftSlide}\r\n                        onMouseDown={e => handleMouseLeftSlide(e, rightSlide, dispatchCallback)}\r\n                        style={{\r\n                            height : '100%',\r\n                            width : page.paddingLeft,\r\n                            cursor : 'col-resize',\r\n                            backgroundColor : '#aeaeae'\r\n                        }}\r\n                    >\r\n                    </div>\r\n\r\n                </Box>\r\n\r\n                <Box style={{\r\n                        position: \"relative\",\r\n                        display : 'inline-block'\r\n                    }}\r\n                >\r\n                    <div\r\n                        ref={rightSlide}\r\n                        onMouseDown={e => handleMouseRightSlide(e, leftSlide, dispatchCallback)}\r\n                        style={{\r\n                            position : \"absolute\",\r\n                            right : 0,\r\n                            top : 0,\r\n                            height : '100%',\r\n                            width : page.paddingRight,\r\n                            cursor : 'col-resize',\r\n                            backgroundColor : '#aeaeae'\r\n                        }}\r\n                    />\r\n                </Box>\r\n            </div>\r\n        </Box>\r\n    )\r\n}","import React, { MutableRefObject } from \"react\";\r\nimport {widthPage} from \"../page/Page\";\r\n\r\nexport const handleMouseLeftSlide = (\r\n                       e : React.MouseEvent,\r\n                       rightSlide : MutableRefObject<null>,\r\n                       dispatchCallback : (side : string, width : number) => void ) => {\r\n\r\n    const target = e.currentTarget as HTMLDivElement\r\n    const pos = target.getBoundingClientRect()\r\n    const width = +target.style.width.split('px')[0]\r\n\r\n    const rightSlideDiv = rightSlide.current! as HTMLDivElement\r\n    const rightSlideDivWidth = +rightSlideDiv.style.width.split('px')[0]\r\n    const rightSlidePadding = widthPage - rightSlideDivWidth - 100\r\n\r\n    let flagDifference = true\r\n    let difference = 0\r\n    let widthCalc = 0\r\n\r\n    document.onmousemove = (e) => {\r\n\r\n        if (pos.right > e.x) {\r\n            if (flagDifference) {\r\n                difference = pos.right - e.x\r\n                flagDifference = false\r\n            }\r\n        }\r\n\r\n        const delta = (e.x + difference) - pos.right\r\n        widthCalc = width + delta\r\n\r\n        if ( widthCalc > 5 && widthCalc < rightSlidePadding ) {\r\n            target.style.width = `${ widthCalc }px`\r\n        }\r\n    }\r\n\r\n    document.onmouseup = (e) => {\r\n        document.onmousemove = null\r\n        document.onmouseup = null\r\n        flagDifference = true\r\n\r\n        const width = +target.style.width.split('px')[0]\r\n        dispatchCallback('left', width)\r\n    }\r\n}\r\n\r\nexport const handleMouseRightSlide = (\r\n                        e : React.MouseEvent,\r\n                        leftSlide : MutableRefObject<null>,\r\n                        dispatchCallback : (side : string, width : number) => void ) => {\r\n\r\n    const target = e.currentTarget as HTMLDivElement\r\n    const pos = target.getBoundingClientRect()\r\n    const width = +target.style.width.split('px')[0]\r\n\r\n    const leftSlideDiv = leftSlide.current! as HTMLDivElement\r\n    const leftSlideDivWidth = +leftSlideDiv.style.width.split('px')[0]\r\n    const leftSlideWidth = widthPage - leftSlideDivWidth - 100\r\n\r\n    let flagDifference = true\r\n    let difference = 0\r\n    let widthCalc = 0\r\n\r\n    document.onmousemove = (e) => {\r\n\r\n        if (pos.left < e.x) {\r\n            if (flagDifference) {\r\n                difference = pos.left - e.x\r\n                flagDifference = false\r\n            }\r\n        }\r\n\r\n        const delta = (e.x + difference) - pos.left\r\n        widthCalc = delta < 0 ? width + Math.abs(delta) : width - delta\r\n\r\n        if ( widthCalc > 5 && widthCalc < leftSlideWidth) {\r\n            target.style.width = `${widthCalc}px`\r\n        }\r\n    }\r\n\r\n    document.onmouseup = (e) => {\r\n        document.onmousemove = null\r\n        document.onmouseup = null\r\n        flagDifference = false\r\n\r\n        const width = +target.style.width.split('px')[0]\r\n        dispatchCallback('right', width)\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {Box, RootRef} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {docReducerTYPE} from \"../../../../redux/store\";\r\nimport {\r\n    handleMouseLeftSlide,\r\n    handleMouseRightSlide\r\n} from \"./leftSlider.fuction\";\r\nimport {\r\n    PADDING_TOP_ACTION,\r\n    PADDING_BOTTOM_ACTION\r\n} from \"../../../../redux/documentRecuder/docAction\";\r\nimport {paddingBottom, paddingTop} from \"../../MainBlock\";\r\n\r\n\r\nexport const LeftSlider = () => {\r\n\r\n    const $lowerSlide = React.useRef(null)\r\n    const $upperSlide = React.useRef(null)\r\n    const { divPage, page } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const dispatch = useDispatch()\r\n\r\n    const dispatchCallback = (side : string, height : number) => {\r\n        if ( side === 'lower' ) dispatch(PADDING_TOP_ACTION(height))\r\n        else dispatch(PADDING_BOTTOM_ACTION(height))\r\n    }\r\n\r\n    return (\r\n        <Box style={{\r\n            position : 'absolute',\r\n            top : -paddingTop,\r\n            left : 0,\r\n            bottom : -paddingBottom,\r\n            width : 15,\r\n            backgroundColor : '#ffffff',\r\n            borderRight : '1px solid gray'\r\n        }}>\r\n\r\n            <RootRef rootRef={$upperSlide}>\r\n                <Box\r\n                    onMouseDown={ e => handleMouseLeftSlide(e, $lowerSlide, divPage, dispatchCallback )}\r\n                    style={{\r\n                        position : \"absolute\",\r\n                        left : 0,\r\n                        top : 0,\r\n                        height : paddingTop + page.paddingTop,\r\n                        width : 15,\r\n                        cursor : 'row-resize',\r\n                        zIndex : 5,\r\n                        backgroundColor : '#aeaeae'\r\n                    }}\r\n                />\r\n            </RootRef>\r\n\r\n            <RootRef rootRef={$lowerSlide}>\r\n                <Box\r\n                    onMouseDown={ e => handleMouseRightSlide(e, $upperSlide, divPage, dispatchCallback)}\r\n                    style={{\r\n                        position : \"absolute\",\r\n                        bottom : 0,\r\n                        left : 0,\r\n                        height : paddingBottom + page.paddingBottom,\r\n                        width : 15,\r\n                        cursor : 'row-resize',\r\n                        backgroundColor : '#aeaeae'\r\n                }}/>\r\n            </RootRef>\r\n        </Box>\r\n    )\r\n}","import React from \"react\";\r\nimport {paddingBottom, paddingTop} from \"../../MainBlock\";\r\n\r\nexport const handleMouseLeftSlide = (\r\n                       e : React.MouseEvent,\r\n                       $lowerSlide : React.MutableRefObject<HTMLDivElement | null>,\r\n                       divPage : HTMLDivElement | null,\r\n                       dispatchCallback : (side : string, height : number) => void) => {\r\n\r\n    const target = e.currentTarget as HTMLDivElement\r\n    const pos = target.getBoundingClientRect()\r\n\r\n    const pagePadding = paddingTop\r\n    const heightPage = divPage!.scrollHeight\r\n\r\n    const lowerSlideDiv = $lowerSlide.current! as HTMLDivElement\r\n    const lowerSlideDivHeight = +lowerSlideDiv.style.height.split('px')[0]\r\n\r\n    const calcMaxHeight = heightPage - lowerSlideDivHeight - 200\r\n\r\n    let flagDifference = true\r\n    let difference = 0\r\n    let heightCalc = 0\r\n\r\n    document.onmousemove = (e) => {\r\n\r\n        if (pos.bottom > e.y) {\r\n            if (flagDifference) {\r\n                difference = pos.bottom - e.y\r\n                flagDifference = false\r\n            }\r\n        }\r\n\r\n        const delta = (e.y + difference) - pos.bottom\r\n        heightCalc = pos.height + delta\r\n\r\n        if (heightCalc > pagePadding + 5 && heightCalc < calcMaxHeight) {\r\n            target.style.height = `${ heightCalc }px`\r\n        }\r\n    }\r\n\r\n    document.onmouseup = (e) => {\r\n\r\n        document.onmousemove = null\r\n        document.onmouseup = null\r\n\r\n        const currentHeight = target.getBoundingClientRect()\r\n        const result = currentHeight.height - pagePadding\r\n\r\n        dispatchCallback('lower', result)\r\n    }\r\n}\r\n\r\nexport const handleMouseRightSlide = (\r\n                              e : React.MouseEvent,\r\n                              $upperSlide : React.MutableRefObject<HTMLDivElement | null> ,\r\n                              divPage : HTMLDivElement | null,\r\n                              dispatchCallback : (side : string, height : number) => void) => {\r\n\r\n    const target = e.currentTarget as HTMLDivElement\r\n    const pos = target.getBoundingClientRect()\r\n\r\n    const pagePadding = paddingBottom\r\n    const heightPage = divPage!.scrollHeight\r\n\r\n    const upperSlideDiv = $upperSlide.current! as HTMLDivElement\r\n    const upperSlideDivHeight = +upperSlideDiv.style.height.split('px')[0]\r\n    const calcMaxHeight = heightPage - upperSlideDivHeight - 200\r\n\r\n    let flagDifference = true\r\n    let difference = 0\r\n    let heightCalc = 0\r\n\r\n    document.onmousemove = (e) => {\r\n\r\n        if (pos.bottom > e.y) {\r\n            if (flagDifference) {\r\n                difference = pos.bottom - e.y\r\n                flagDifference = false\r\n            }\r\n        }\r\n\r\n        const delta = (e.y + difference) - pos.bottom\r\n        heightCalc = delta < 0 ? pos.height + Math.abs(delta) : pos.height - delta\r\n\r\n        if (heightCalc > pagePadding + 5 && heightCalc < calcMaxHeight) {\r\n            target.style.height = `${ heightCalc }px`\r\n        }\r\n    }\r\n\r\n    document.onmouseup = (e) => {\r\n\r\n        document.onmousemove = null\r\n        document.onmouseup = null\r\n\r\n        const currentHeight = target.getBoundingClientRect()\r\n        const result = currentHeight.height - pagePadding\r\n\r\n        dispatchCallback('upper', result)\r\n    }\r\n}","import React from \"react\";\r\nimport SimpleBar from 'simplebar-react';\r\nimport {RootRef} from \"@material-ui/core\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Header} from \"./mainBlock.components/header/Header\";\r\nimport {LeftSlider} from \"./mainBlock.components/LeftSlider/LeftSlider\";\r\nimport {Page} from \"./mainBlock.components/page/Page\";\r\nimport {SET_PAGE_DOM_ACTION} from \"../../redux/documentRecuder/docAction\";\r\n\r\nexport const paddingTop = 30\r\nexport const paddingBottom = 30\r\n\r\nexport const MainBlock = () => {\r\n\r\n    const pageDom = React.useRef(null)\r\n    const dispatch = useDispatch()\r\n\r\n    React.useEffect(() => {\r\n\r\n        const $pageDom = pageDom.current! as HTMLDivElement\r\n        dispatch(SET_PAGE_DOM_ACTION($pageDom))\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [pageDom])\r\n\r\n   //\r\n    return (<>\r\n\r\n            <Header />\r\n\r\n            <SimpleBar\r\n                    autoHide={false}\r\n                    style={{\r\n                        maxHeight : '80vh',\r\n                        paddingTop,\r\n                        paddingBottom,\r\n                        backgroundColor : '#F8F9FA'\r\n                    }}>\r\n\r\n                    <div style={{position : 'relative'}}>\r\n\r\n                        <LeftSlider />\r\n                        <RootRef rootRef={pageDom} >\r\n                            <Page />\r\n                        </RootRef>\r\n\r\n                    </div>\r\n\r\n            </SimpleBar>\r\n    </>)\r\n}","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport * as firebase from \"firebase\";\r\nimport 'firebase/database';\r\nimport {Header} from \"../components/document/Header\";\r\nimport { Toolbar } from \"../components/document/Toolbar\";\r\nimport {MainBlock} from \"../components/document/MainBlock\";\r\nimport {docReducerTYPE} from \"../redux/store\";\r\nimport { PAGE_SERVER_DATA_ACTION } from \"../redux/documentRecuder/docAction\";\r\nimport {Preloader} from \"../components/home/Preloader\";\r\nimport {POST_LIST, POST_DATA_USER} from \"../core/postDataServer\";\r\nimport {userID} from \"../core/different\";\r\n\r\nexport const Document = () => {\r\n\r\n    const [ getDataServer, setDATA] = React.useState(false)\r\n    const { key } = useParams();\r\n    const { page } = useSelector(({ docReducer } : docReducerTYPE ) => docReducer)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    React.useEffect(() => {\r\n\r\n        firebase\r\n            .database()\r\n            .ref(`/docReact/${userID()}/docsDATA/${key}/`)\r\n            .once('value')\r\n            .then(value => {\r\n                const val = value.val() ? value.val() : {};\r\n                dispatch(PAGE_SERVER_DATA_ACTION(val));\r\n                setDATA(true)\r\n            })\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n\r\n    React.useEffect(() => {\r\n\r\n        if (getDataServer) {\r\n            POST_LIST(key, page.title)\r\n            POST_DATA_USER(key, page)\r\n        }\r\n\r\n    }, [JSON.stringify(page)])\r\n\r\n\r\n    if(!getDataServer) {\r\n        return <>\r\n            <div style={{\r\n                position : 'relative',\r\n                padding : '20px 20px',\r\n                width : 100\r\n            }}>\r\n                <Preloader height={'20px'} width={'20px'} />\r\n            </div>\r\n            <Toolbar />\r\n            <div style={{\r\n                position : 'absolute',\r\n                top : 0,\r\n                left : 0,\r\n                right : 0,\r\n                bottom : 0,\r\n                zIndex : 999,\r\n            }}>\r\n                <Preloader height={'50px'} width={'50px'} />\r\n            </div>\r\n        </>\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <Toolbar />\r\n            <MainBlock />\r\n        </>\r\n    )\r\n\r\n}","import * as firebase from \"firebase\";\r\nimport 'firebase/database';\r\nimport { userID, generateDate} from \"./different\";\r\nimport {debounce} from \"debounce\";\r\n\r\nexport const POST_LIST = (key : string, title : string) => {\r\n\r\n    debounce(() => {\r\n\r\n        firebase\r\n            .database()\r\n            .ref(`/docReact/${userID()}/list/${key}`)\r\n            .set({\r\n                name : title,\r\n                id : key,\r\n                date : generateDate,\r\n                change : Date.now().toString()\r\n            })\r\n\r\n    }, 200)()\r\n}\r\n\r\nexport const POST_DATA_USER = (key : string, page : object) => {\r\n\r\n    debounce(() => {\r\n\r\n        firebase\r\n            .database()\r\n            .ref(`/docReact/${userID()}/docsDATA/${key}`)\r\n            .set(page)\r\n\r\n    }, 200)()\r\n}\r\n","import React from 'react';\nimport {Home} from \"./Pages/Home\";\nimport { Route, useLocation } from \"react-router-dom\";\nimport {Document} from \"./Pages/Document\";\nimport { home, documentPage } from './core/link';\n\n\nfunction App() {\n\n  const [reload, setReload] = React.useState(false)\n  const location = useLocation();\n\n\n  React.useEffect(() => {\n\n      if (location.pathname === '/' && reload) {\n          window.location.reload()\n          setReload(false)\n      }\n      else {\n          setReload(true)\n      }\n\n  }, [location])\n\n  return (\n    <div\n        style={{\n            padding : 0,\n            width : '100%',\n            minWidth : '1140px',\n            maxWidth : '2556px',\n            margin : '0 auto'\n        }}\n    >\n\n        <Route exact path={home}>\n            <Home />\n        </Route>\n\n        <Route path={`${documentPage}:key`}>\n            <Document />\n        </Route>\n\n    </div>\n  )\n}\n\nexport default App;\n","import {SET_DATA, SET_DELETE_DOC_LIST, SET_NEW_NAME, SET_SORT} from \"./homeConstants\";\r\n\r\n\r\ntype ActionTYPE = {\r\n    type : string,\r\n    payload : string | number\r\n    title : string,\r\n    date : string\r\n    key : string\r\n}\r\n\r\nexport type dataUserObjectType = {\r\n    name : string,\r\n    id : string\r\n    date : string,\r\n    change : string\r\n}\r\n\r\ntype dataUserTYPE = {\r\n    [key : string] : dataUserObjectType\r\n}\r\n\r\nexport type InitialStateTYPE = {\r\n    sort : string,\r\n    dataUser : dataUserTYPE | null\r\n}\r\n\r\nconst initialState : InitialStateTYPE = {\r\n    sort : 'По названию',\r\n    dataUser : null\r\n}\r\n\r\nexport function homeReducer(state = initialState, action : ActionTYPE) {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_SORT :\r\n\r\n            if (action.payload === 'По дате изменения') {\r\n\r\n                const data = Object.keys(state.dataUser!)\r\n                                .map(item => state.dataUser![item])\r\n                                .sort((a,b) => {\r\n                                    if ( a.change > b.change ){\r\n                                        return -1;\r\n                                    }\r\n                                    if ( a.change < b.change ){\r\n                                        return 1;\r\n                                    }\r\n                                    return 0;\r\n                                })\r\n                                .reduce((acc : any , item) => {\r\n                                    acc[item.id] = item\r\n                                    return acc\r\n                                } ,{})\r\n\r\n\r\n                state.dataUser = {...data}\r\n            }\r\n            else if (action.payload === 'По названию') {\r\n\r\n                const data = Object.keys(state.dataUser!)\r\n                            .map(item => state.dataUser![item])\r\n                            .sort((a,b) => {\r\n                                if ( a.name < b.name ){\r\n                                    return -1;\r\n                                }\r\n                                if ( a.name > b.name ){\r\n                                    return 1;\r\n                                }\r\n                                return 0;\r\n                            })\r\n                            .reduce((acc : any, item) => {\r\n                                acc[item.id] = item\r\n                                return acc\r\n                            }, {})\r\n\r\n                state.dataUser = {...data}\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                sort : action.payload\r\n            }\r\n\r\n        case SET_DATA :\r\n\r\n            return {\r\n                ...state,\r\n                dataUser : action.payload\r\n            }\r\n\r\n        case SET_DELETE_DOC_LIST :\r\n\r\n            const stateDataUser = {...state.dataUser}\r\n            delete stateDataUser[action.payload]\r\n\r\n            return {\r\n                ...state,\r\n                dataUser : stateDataUser\r\n            }\r\n\r\n        case SET_NEW_NAME :\r\n\r\n            const stateUserData = {...state.dataUser}\r\n            stateUserData[action.key].name = action.title\r\n\r\n            return {\r\n                ...state,\r\n                dataUser : {...stateUserData}\r\n            }\r\n\r\n        default :\r\n            return { ...state }\r\n    }\r\n}","import {combineReducers, createStore} from 'redux'\r\nimport {homeReducer, InitialStateTYPE} from \"./homeReducer/homeReducer\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport {docReducer, InitialStateDoc} from \"./documentRecuder/docReducer\";\r\n\r\nexport type homeReducerTYPE = {\r\n    homeReducer : InitialStateTYPE,\r\n}\r\n\r\nexport type docReducerTYPE = {\r\n    docReducer : InitialStateDoc\r\n}\r\n\r\nexport const store = createStore(\r\n    combineReducers({\r\n        homeReducer,\r\n        docReducer\r\n    }),\r\n    composeWithDevTools() )","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './assets/scss/app.scss'\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./redux/store\";\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\n\r\nfirebase.initializeApp({\r\n    apiKey: \"AIzaSyA1EF5S1PcSeYvl53m7_LLkOTepNobBOpU\",\r\n    authDomain: \"goggledocclone.firebaseapp.com\",\r\n    databaseURL: \"https://goggledocclone.firebaseio.com\",\r\n    projectId: \"goggledocclone\",\r\n    storageBucket: \"goggledocclone.appspot.com\",\r\n    messagingSenderId: \"580367898853\",\r\n    appId: \"1:580367898853:web:ac4c7e853ffc66e43b1c0c\"\r\n});\r\n\r\nReactDOM.render(\r\n    <Provider store={store} >\r\n        <HashRouter>\r\n            <App />\r\n        </HashRouter>\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}